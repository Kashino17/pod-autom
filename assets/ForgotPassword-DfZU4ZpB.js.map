{"version":3,"file":"ForgotPassword-DfZU4ZpB.js","sources":["../../src/pages/ForgotPassword.tsx"],"sourcesContent":["import { useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport { useAuth } from '@src/contexts/AuthContext'\nimport { useToastStore } from '@src/lib/store'\nimport { isValidEmail } from '@src/utils/validation'\nimport { Mail, Loader2, ArrowLeft, CheckCircle } from 'lucide-react'\n\nexport default function ForgotPassword() {\n  const { resetPassword } = useAuth()\n  const addToast = useToastStore((state) => state.addToast)\n\n  // Form state\n  const [email, setEmail] = useState('')\n  const [isSubmitting, setIsSubmitting] = useState(false)\n  const [emailSent, setEmailSent] = useState(false)\n\n  // Validation\n  const isEmailValid = email.length === 0 || isValidEmail(email)\n  const canSubmit = isValidEmail(email) && !isSubmitting\n\n  // Handle form submit\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    if (!canSubmit) return\n\n    setIsSubmitting(true)\n    const result = await resetPassword(email)\n\n    if (result.success) {\n      setEmailSent(true)\n    } else {\n      addToast({\n        type: 'error',\n        title: 'Fehler',\n        description: result.message || 'Ein Fehler ist aufgetreten',\n      })\n    }\n    setIsSubmitting(false)\n  }\n\n  // Success view\n  if (emailSent) {\n    return (\n      <div className=\"min-h-screen bg-black flex items-center justify-center p-8\">\n        <div className=\"max-w-md w-full text-center\">\n          <div className=\"mb-8\">\n            <div className=\"w-20 h-20 rounded-full bg-emerald-500/10 flex items-center justify-center mx-auto mb-6\">\n              <CheckCircle className=\"w-10 h-10 text-emerald-500\" />\n            </div>\n            <h1 className=\"text-3xl font-bold text-white mb-4\">\n              E-Mail gesendet!\n            </h1>\n            <p className=\"text-zinc-400 mb-2\">\n              Wenn ein Konto mit\n            </p>\n            <p className=\"text-white font-medium mb-4\">{email}</p>\n            <p className=\"text-zinc-400\">\n              existiert, haben wir dir einen Link zum Zuruecksetzen deines Passworts gesendet.\n            </p>\n          </div>\n\n          <div className=\"space-y-4\">\n            <Link to=\"/login\" className=\"btn-primary w-full py-3 block\">\n              Zurueck zum Login\n            </Link>\n            <button\n              onClick={() => setEmailSent(false)}\n              className=\"text-sm text-zinc-500 hover:text-zinc-300\"\n            >\n              Andere E-Mail-Adresse verwenden\n            </button>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"min-h-screen bg-black flex items-center justify-center p-8\">\n      <div className=\"max-w-md w-full\">\n        {/* Back link */}\n        <Link\n          to=\"/login\"\n          className=\"inline-flex items-center gap-2 text-zinc-400 hover:text-white transition-colors mb-8\"\n        >\n          <ArrowLeft className=\"w-4 h-4\" />\n          <span className=\"text-sm\">Zurueck zum Login</span>\n        </Link>\n\n        {/* Header */}\n        <div className=\"text-center mb-8\">\n          <div className=\"w-16 h-16 rounded-full bg-violet-500/10 flex items-center justify-center mx-auto mb-6\">\n            <Mail className=\"w-8 h-8 text-violet-500\" />\n          </div>\n          <h1 className=\"text-3xl font-bold text-white mb-2\">\n            Passwort vergessen?\n          </h1>\n          <p className=\"text-zinc-400\">\n            Kein Problem! Gib deine E-Mail-Adresse ein und wir senden dir einen Link zum Zuruecksetzen.\n          </p>\n        </div>\n\n        {/* Form */}\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\n          {/* Email */}\n          <div>\n            <label htmlFor=\"email\" className=\"label\">\n              E-Mail-Adresse\n            </label>\n            <div className=\"input-wrapper\">\n              <Mail className=\"input-icon-left w-5 h-5\" />\n              <input\n                id=\"email\"\n                type=\"email\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                className={`input-with-icon-left ${\n                  !isEmailValid ? 'border-red-500 focus:border-red-500' : ''\n                }`}\n                placeholder=\"deine@email.de\"\n                autoComplete=\"email\"\n                autoFocus\n                required\n              />\n            </div>\n            {!isEmailValid && (\n              <p className=\"error-text\">Bitte gib eine gueltige E-Mail ein</p>\n            )}\n          </div>\n\n          {/* Submit */}\n          <button\n            type=\"submit\"\n            disabled={!canSubmit}\n            className=\"btn-primary w-full py-3\"\n          >\n            {isSubmitting ? (\n              <Loader2 className=\"w-5 h-5 animate-spin mx-auto\" />\n            ) : (\n              'Link senden'\n            )}\n          </button>\n        </form>\n\n        {/* Help text */}\n        <p className=\"text-center text-zinc-500 text-sm mt-8\">\n          Du erinnerst dich wieder?{' '}\n          <Link to=\"/login\" className=\"text-violet-400 hover:text-violet-300\">\n            Jetzt anmelden\n          </Link>\n        </p>\n      </div>\n    </div>\n  )\n}\n"],"names":["ForgotPassword","resetPassword","useAuth","addToast","useToastStore","state","email","setEmail","useState","isSubmitting","setIsSubmitting","emailSent","setEmailSent","isEmailValid","isValidEmail","canSubmit","handleSubmit","e","result","jsxs","jsx","CheckCircle","Link","ArrowLeft","Mail","Loader2"],"mappings":"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"}