import{j as e}from"./vendor-query-CpRdniug.js";import{r as d,f as B,h as M}from"./vendor-react-4xEIaAEA.js";import{u as A,a as _,b as E}from"./useShopify-BNCwXObD.js";import{u as F,b as $}from"./index-CupJPaFk.js";import{a as z,c as P,a4 as T,af as L,x as W,L as f,G as V,b as G,X as O,J as U,S as H,W as K,V as S,l as C,I as q,M as R,r as Z}from"./vendor-ui-BMWb517o.js";import"./api-DNziMqA2.js";import"./vendor-supabase-DejIJ_qE.js";import"./vendor-charts-Cz_1NfFu.js";function J({onComplete:h,onSkip:u}){const{user:j}=F(),{shops:p,isLoading:c,createShop:a,isCreating:m,startOAuthFlow:l}=A(),[o,r]=d.useState("oauth"),[t,b]=d.useState(""),[s,x]=d.useState(""),[g,w]=d.useState(""),n=p.length>0,i=p[0],y=()=>{!t.trim()||!j?.id||l(t,j.id)},I=N=>{if(N.preventDefault(),!t.trim()||!s.trim())return;const k={shop_domain:t,access_token:s};g.trim()&&(k.internal_name=g),a(k,{onSuccess:()=>{h()}})};return n&&!c?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-emerald-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(z,{className:"w-8 h-8 text-emerald-500"})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Shop verbunden!"}),e.jsx("p",{className:"text-zinc-400",children:"Dein Shopify Store ist erfolgreich verbunden."})]}),e.jsx("div",{className:"bg-zinc-800/50 rounded-xl p-4 border border-zinc-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-violet-500/20 rounded-lg flex items-center justify-center",children:e.jsx(P,{className:"w-5 h-5 text-violet-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:i?.internal_name||i?.shop_domain}),e.jsx("p",{className:"text-sm text-zinc-500",children:i?.shop_domain})]}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"px-2 py-1 bg-emerald-500/20 text-emerald-400 text-xs rounded-full",children:"Verbunden"})})]})}),e.jsx("button",{onClick:h,className:"btn-primary w-full py-3",children:"Weiter zu Schritt 2"})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-violet-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(P,{className:"w-8 h-8 text-violet-400"})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Shopify Store verbinden"}),e.jsx("p",{className:"text-zinc-400",children:"Verbinde deinen Shopify Store, um mit der Automatisierung zu starten."})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>r("oauth"),className:`flex-1 py-2 px-4 rounded-lg text-sm font-medium transition-colors ${o==="oauth"?"bg-violet-500 text-white":"bg-zinc-800 text-zinc-400 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(T,{className:"w-4 h-4"}),"OAuth (Empfohlen)"]})}),e.jsx("button",{onClick:()=>r("manual"),className:`flex-1 py-2 px-4 rounded-lg text-sm font-medium transition-colors ${o==="manual"?"bg-violet-500 text-white":"bg-zinc-800 text-zinc-400 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(L,{className:"w-4 h-4"}),"Access Token"]})})]}),o==="oauth"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"shopDomain",className:"label",children:"Shop Domain"}),e.jsx("input",{id:"shopDomain",type:"text",value:t,onChange:N=>b(N.target.value),className:"input",placeholder:"dein-shop.myshopify.com"}),e.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:"Gib deine Shopify Domain ein (z.B. dein-shop oder dein-shop.myshopify.com)"})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-violet-500/10 border border-violet-500/20",children:[e.jsx("p",{className:"text-sm text-violet-300",children:"Du wirst zu Shopify weitergeleitet, um die Verbindung zu autorisieren. Dabei werden folgende Berechtigungen angefragt:"}),e.jsxs("ul",{className:"mt-2 text-xs text-zinc-400 space-y-1",children:[e.jsx("li",{children:"â€¢ Produkte lesen und erstellen"}),e.jsx("li",{children:"â€¢ Bestellungen lesen"}),e.jsx("li",{children:"â€¢ Inventar verwalten"})]})]}),e.jsx("button",{onClick:y,disabled:!t.trim(),className:"btn-primary w-full py-3",children:"Mit Shopify verbinden"})]}),o==="manual"&&e.jsxs("form",{onSubmit:I,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"manualShopDomain",className:"label",children:"Shop Domain"}),e.jsx("input",{id:"manualShopDomain",type:"text",value:t,onChange:N=>b(N.target.value),className:"input",placeholder:"dein-shop.myshopify.com",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"accessToken",className:"label",children:"Admin API Access Token"}),e.jsx("input",{id:"accessToken",type:"password",value:s,onChange:N=>x(N.target.value),className:"input",placeholder:"shpat_...",required:!0}),e.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:"Erstelle einen Custom App Token in deinem Shopify Admin unter Settings â†’ Apps and sales channels â†’ Develop apps"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"internalName",className:"label",children:"Interner Name (optional)"}),e.jsx("input",{id:"internalName",type:"text",value:g,onChange:N=>w(N.target.value),className:"input",placeholder:"Mein Shop"})]}),e.jsx("div",{className:"p-4 rounded-lg bg-amber-500/10 border border-amber-500/20",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(W,{className:"w-5 h-5 text-amber-400 flex-shrink-0"}),e.jsxs("p",{className:"text-sm text-amber-300",children:["Stelle sicher, dass dein Access Token die benÃ¶tigten Berechtigungen hat:",e.jsx("span",{className:"block mt-1 text-xs text-zinc-400",children:"read_products, write_products, read_orders, read_inventory"})]})]})}),e.jsx("button",{type:"submit",disabled:!t.trim()||!s.trim()||m,className:"btn-primary w-full py-3",children:m?e.jsx(f,{className:"w-5 h-5 animate-spin mx-auto"}):"Shop verbinden"})]}),u&&e.jsx("button",{onClick:u,className:"w-full text-sm text-zinc-500 hover:text-zinc-300 transition-colors",children:"SpÃ¤ter verbinden"})]})}const X=[{name:"Fitness & Sport",icon:"ðŸ’ª"},{name:"Haustiere",icon:"ðŸ•"},{name:"Gaming",icon:"ðŸŽ®"},{name:"Musik",icon:"ðŸŽµ"},{name:"Reisen",icon:"âœˆï¸"},{name:"Kochen",icon:"ðŸ‘¨â€ðŸ³"},{name:"Fotografie",icon:"ðŸ“·"},{name:"Garten",icon:"ðŸŒ±"},{name:"Angeln",icon:"ðŸŽ£"},{name:"Motorrad",icon:"ðŸï¸"},{name:"Yoga",icon:"ðŸ§˜"},{name:"Kaffee",icon:"â˜•"}];function Y({shopId:h,onComplete:u,onBack:j}){const{settings:p}=_(h),{niches:c,isLoading:a,createNiche:m,isCreating:l,deleteNiche:o,isDeleting:r}=E(p?.id||null),[t,b]=d.useState(""),s=n=>{!n.trim()||!p?.id||c.some(y=>y.niche_name.toLowerCase()===n.toLowerCase())||(m(n.trim()),b(""))},x=n=>{n.preventDefault(),s(t)},g=n=>{o(n)},w=c.length>0;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-violet-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(V,{className:"w-8 h-8 text-violet-400"})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Nischen auswÃ¤hlen"}),e.jsx("p",{className:"text-zinc-400",children:"WÃ¤hle die Nischen, fÃ¼r die du Produkte erstellen mÃ¶chtest."})]}),c.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"label flex items-center gap-2",children:[e.jsx(G,{className:"w-4 h-4"}),"Deine Nischen (",c.length,")"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(n=>e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1.5 bg-violet-500/20 text-violet-300 rounded-lg text-sm",children:[n.niche_name,e.jsx("button",{onClick:()=>g(n.id),disabled:r,className:"ml-1 hover:text-white transition-colors",children:e.jsx(O,{className:"w-3.5 h-3.5"})})]},n.id))})]}),e.jsxs("form",{onSubmit:x,className:"space-y-2",children:[e.jsx("label",{htmlFor:"newNiche",className:"label",children:"Nische hinzufÃ¼gen"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{id:"newNiche",type:"text",value:t,onChange:n=>b(n.target.value),className:"input flex-1",placeholder:"z.B. Wandern, Camping, ..."}),e.jsx("button",{type:"submit",disabled:!t.trim()||l,className:"btn-primary px-4",children:l?e.jsx(f,{className:"w-5 h-5 animate-spin"}):e.jsx(U,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"label flex items-center gap-2",children:[e.jsx(H,{className:"w-4 h-4"}),"Beliebte Nischen"]}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:X.map(n=>{const i=c.some(y=>y.niche_name.toLowerCase()===n.name.toLowerCase());return e.jsxs("button",{onClick:()=>!i&&s(n.name),disabled:i||l,className:`p-3 rounded-lg text-sm font-medium transition-all ${i?"bg-violet-500/30 text-violet-300 cursor-default":"bg-zinc-800 text-zinc-300 hover:bg-zinc-700 hover:text-white"}`,children:[e.jsx("span",{className:"text-lg mr-1",children:n.icon}),n.name]},n.name)})})]}),e.jsx("div",{className:"p-4 rounded-lg bg-zinc-800/50 border border-zinc-700",children:e.jsxs("p",{className:"text-sm text-zinc-400",children:[e.jsx("strong",{className:"text-white",children:"Tipp:"})," Starte mit 2-3 Nischen und erweitere spÃ¤ter. Je spezifischer die Nische, desto besser die Ergebnisse."]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:j,className:"btn-secondary flex-1 py-3",children:"ZurÃ¼ck"}),e.jsx("button",{onClick:u,disabled:!w,className:"btn-primary flex-1 py-3",children:a?e.jsx(f,{className:"w-5 h-5 animate-spin mx-auto"}):"Weiter"})]})]})}const v={image_style:`Create a modern, eye-catching print-on-demand design with clean lines and vibrant colors.
The design should be suitable for printing on t-shirts and hoodies.
Use a transparent or solid background.
Style: Modern, minimalist, trendy.`,title_style:`Create a catchy, SEO-optimized product title that:
- Includes the main keyword/niche
- Is between 50-70 characters
- Sounds appealing and unique
- Avoids generic phrases`,description_style:`Write a compelling product description that:
- Highlights the unique design
- Mentions print quality and comfort
- Includes relevant keywords
- Has a clear call-to-action
- Is 100-150 words`};function Q({shopId:h,onComplete:u,onBack:j}){const{isUpdating:p}=_(h),[c,a]=d.useState(v.image_style),[m,l]=d.useState(v.title_style),[o,r]=d.useState(v.description_style),[t,b]=d.useState("image"),[s,x]=d.useState(!0),g=i=>{b(t===i?null:i)},w=()=>{u()},n=i=>{switch(i){case"image":a(v.image_style);break;case"title":l(v.title_style);break;case"description":r(v.description_style);break}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-violet-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(K,{className:"w-8 h-8 text-violet-400"})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"KI-Prompts konfigurieren"}),e.jsx("p",{className:"text-zinc-400",children:"Passe an, wie die KI deine Designs und Texte erstellt."})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-zinc-800/50 border border-zinc-700",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:"Standard-Prompts verwenden"}),e.jsx("p",{className:"text-sm text-zinc-400",children:"Optimierte Prompts fÃ¼r beste Ergebnisse"})]}),e.jsx("button",{onClick:()=>x(!s),className:`relative w-12 h-6 rounded-full transition-colors ${s?"bg-violet-500":"bg-zinc-600"}`,children:e.jsx("span",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-transform ${s?"left-7":"left-1"}`})})]}),!s&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"rounded-lg bg-zinc-800/50 border border-zinc-700 overflow-hidden",children:[e.jsxs("button",{onClick:()=>g("image"),className:"w-full flex items-center justify-between p-4 text-left",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:"Bild-Prompt"}),e.jsx("p",{className:"text-sm text-zinc-400",children:"FÃ¼r die Design-Generierung"})]}),t==="image"?e.jsx(S,{className:"w-5 h-5 text-zinc-400"}):e.jsx(C,{className:"w-5 h-5 text-zinc-400"})]}),t==="image"&&e.jsxs("div",{className:"px-4 pb-4 space-y-2",children:[e.jsx("textarea",{value:c,onChange:i=>a(i.target.value),className:"input min-h-[120px] resize-none",placeholder:"Beschreibe den gewÃ¼nschten Bildstil..."}),e.jsx("button",{onClick:()=>n("image"),className:"text-xs text-violet-400 hover:text-violet-300",children:"Auf Standard zurÃ¼cksetzen"})]})]}),e.jsxs("div",{className:"rounded-lg bg-zinc-800/50 border border-zinc-700 overflow-hidden",children:[e.jsxs("button",{onClick:()=>g("title"),className:"w-full flex items-center justify-between p-4 text-left",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:"Titel-Prompt"}),e.jsx("p",{className:"text-sm text-zinc-400",children:"FÃ¼r Produkttitel"})]}),t==="title"?e.jsx(S,{className:"w-5 h-5 text-zinc-400"}):e.jsx(C,{className:"w-5 h-5 text-zinc-400"})]}),t==="title"&&e.jsxs("div",{className:"px-4 pb-4 space-y-2",children:[e.jsx("textarea",{value:m,onChange:i=>l(i.target.value),className:"input min-h-[100px] resize-none",placeholder:"Beschreibe den gewÃ¼nschten Titelstil..."}),e.jsx("button",{onClick:()=>n("title"),className:"text-xs text-violet-400 hover:text-violet-300",children:"Auf Standard zurÃ¼cksetzen"})]})]}),e.jsxs("div",{className:"rounded-lg bg-zinc-800/50 border border-zinc-700 overflow-hidden",children:[e.jsxs("button",{onClick:()=>g("description"),className:"w-full flex items-center justify-between p-4 text-left",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:"Beschreibungs-Prompt"}),e.jsx("p",{className:"text-sm text-zinc-400",children:"FÃ¼r Produktbeschreibungen"})]}),t==="description"?e.jsx(S,{className:"w-5 h-5 text-zinc-400"}):e.jsx(C,{className:"w-5 h-5 text-zinc-400"})]}),t==="description"&&e.jsxs("div",{className:"px-4 pb-4 space-y-2",children:[e.jsx("textarea",{value:o,onChange:i=>r(i.target.value),className:"input min-h-[100px] resize-none",placeholder:"Beschreibe den gewÃ¼nschten Beschreibungsstil..."}),e.jsx("button",{onClick:()=>n("description"),className:"text-xs text-violet-400 hover:text-violet-300",children:"Auf Standard zurÃ¼cksetzen"})]})]})]}),e.jsx("div",{className:"p-4 rounded-lg bg-violet-500/10 border border-violet-500/20",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(q,{className:"w-5 h-5 text-violet-400 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-violet-300",children:"Die KI verwendet GPT-4 und DALL-E fÃ¼r beste Ergebnisse. Du kannst die Prompts jederzeit in den Einstellungen anpassen."})]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:j,className:"btn-secondary flex-1 py-3",children:"ZurÃ¼ck"}),e.jsx("button",{onClick:w,disabled:p,className:"btn-primary flex-1 py-3",children:p?e.jsx(f,{className:"w-5 h-5 animate-spin mx-auto"}):"Weiter"})]})]})}function ee({shopId:h,onComplete:u,onBack:j}){const{subscription:p}=$(),[c,a]=d.useState(null),[m]=d.useState({pinterest:!1,meta:!1,google:!1}),l=p?.tier||"basis",o={pinterest:l==="basis"||l==="premium"||l==="vip",meta:l==="premium"||l==="vip",google:l==="vip"},r=async s=>{if(!o[s])return;a(s);const x="http://localhost:5001";switch(s){case"pinterest":window.location.href=`${x}/api/pinterest/authorize?shop_id=${h}`;return;case"meta":window.location.href=`${x}/api/meta/authorize?shop_id=${h}`;return;case"google":window.location.href=`${x}/api/google/authorize?shop_id=${h}`;return}},t=[{id:"pinterest",name:"Pinterest",icon:e.jsx("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M12 0C5.373 0 0 5.372 0 12c0 5.084 3.163 9.426 7.627 11.174-.105-.949-.2-2.405.042-3.441.218-.937 1.407-5.965 1.407-5.965s-.359-.719-.359-1.782c0-1.668.967-2.914 2.171-2.914 1.023 0 1.518.769 1.518 1.69 0 1.029-.655 2.568-.994 3.995-.283 1.194.599 2.169 1.777 2.169 2.133 0 3.772-2.249 3.772-5.495 0-2.873-2.064-4.882-5.012-4.882-3.414 0-5.418 2.561-5.418 5.207 0 1.031.397 2.138.893 2.738a.36.36 0 01.083.345l-.333 1.36c-.053.22-.174.267-.402.161-1.499-.698-2.436-2.889-2.436-4.649 0-3.785 2.75-7.262 7.929-7.262 4.163 0 7.398 2.967 7.398 6.931 0 4.136-2.607 7.464-6.227 7.464-1.216 0-2.359-.632-2.75-1.378l-.748 2.853c-.271 1.043-1.002 2.35-1.492 3.146C9.57 23.812 10.763 24 12 24c6.627 0 12-5.373 12-12 0-6.628-5.373-12-12-12z"})}),description:"Produkte als Pins verÃ¶ffentlichen und Ads schalten",available:o.pinterest,tier:"Basis"},{id:"meta",name:"Meta (Facebook/Instagram)",icon:e.jsx("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),description:"Instagram Shopping & Facebook Ads",available:o.meta,tier:"Premium"},{id:"google",name:"Google",icon:e.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"currentColor",children:[e.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),description:"Google Shopping & Performance Max",available:o.google,tier:"VIP"}],b=Object.values(m).filter(Boolean).length;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-violet-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(R,{className:"w-8 h-8 text-violet-400"})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Ad-Plattformen verbinden"}),e.jsx("p",{className:"text-zinc-400",children:"Verbinde Werbeplattformen, um automatisch Ads zu schalten."})]}),e.jsx("div",{className:"space-y-3",children:t.map(s=>e.jsx("div",{className:`p-4 rounded-xl border transition-all ${m[s.id]?"bg-emerald-500/10 border-emerald-500/30":s.available?"bg-zinc-800/50 border-zinc-700 hover:border-zinc-600":"bg-zinc-800/30 border-zinc-800 opacity-60"}`,children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${m[s.id]?"bg-emerald-500/20 text-emerald-400":s.available?"bg-zinc-700 text-white":"bg-zinc-800 text-zinc-500"}`,children:s.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"text-white font-medium",children:s.name}),!s.available&&e.jsxs("span",{className:"px-2 py-0.5 bg-zinc-700 text-zinc-400 text-xs rounded-full flex items-center gap-1",children:[e.jsx(Z,{className:"w-3 h-3"}),s.tier,"+"]})]}),e.jsx("p",{className:"text-sm text-zinc-400",children:s.description})]}),e.jsx("div",{children:m[s.id]?e.jsxs("span",{className:"flex items-center gap-1 text-emerald-400 text-sm",children:[e.jsx(z,{className:"w-5 h-5"}),"Verbunden"]}):s.available?e.jsx("button",{onClick:()=>r(s.id),disabled:c===s.id,className:"btn-secondary px-4 py-2 text-sm",children:c===s.id?e.jsx(f,{className:"w-4 h-4 animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"w-4 h-4 mr-1"}),"Verbinden"]})}):e.jsx("button",{disabled:!0,className:"px-4 py-2 text-sm bg-zinc-800 text-zinc-500 rounded-lg cursor-not-allowed",children:"Upgrade"})})]})},s.id))}),l==="basis"&&e.jsx("div",{className:"p-4 rounded-lg bg-violet-500/10 border border-violet-500/20",children:e.jsxs("p",{className:"text-sm text-violet-300",children:[e.jsx("strong",{children:"Tipp:"})," Upgrade auf Premium oder VIP, um weitere Werbeplattformen zu nutzen und deine Reichweite zu maximieren."]})}),e.jsx("div",{className:"p-4 rounded-lg bg-zinc-800/50 border border-zinc-700",children:e.jsx("p",{className:"text-sm text-zinc-400",children:"Du kannst die Plattformen auch spÃ¤ter in den Einstellungen verbinden. Die Produkterstellung funktioniert auch ohne Werbeverbindungen."})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:j,className:"btn-secondary flex-1 py-3",children:"ZurÃ¼ck"}),e.jsx("button",{onClick:u,className:"btn-primary flex-1 py-3",children:b>0?"AbschlieÃŸen":"Ãœberspringen"})]})]})}const D=[{number:1,title:"Shop verbinden",description:"Shopify Store anbinden"},{number:2,title:"Nischen wÃ¤hlen",description:"Zielgruppen definieren"},{number:3,title:"KI konfigurieren",description:"Prompts anpassen"},{number:4,title:"Ads verbinden",description:"Werbeplattformen"}];function oe(){const h=B(),[u]=M(),{shops:j,isLoading:p,refetch:c}=A(),[a,m]=d.useState(1),[l,o]=d.useState(!1);d.useEffect(()=>{const s=u.get("shopify_connected"),x=u.get("error");s==="true"?(c(),m(2),window.history.replaceState({},"","/onboarding")):x&&(console.error("OAuth error:",x),window.history.replaceState({},"","/onboarding"))},[u,c]);const r=j[0]?.id||null,t=s=>{m(s)},b=async()=>{o(!0),setTimeout(()=>{h("/dashboard")},1e3)};return p?e.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:e.jsx(f,{className:"w-8 h-8 text-violet-500 animate-spin"})}):e.jsxs("div",{className:"min-h-screen bg-black",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-500/5 via-transparent to-violet-500/5"}),e.jsxs("div",{className:"relative max-w-2xl mx-auto px-4 py-8 sm:py-12 safe-top safe-bottom",children:[e.jsx("div",{className:"text-center mb-8",children:e.jsxs("h1",{className:"text-2xl font-bold text-white",children:["POD Auto",e.jsx("span",{className:"text-violet-500",children:"M"})]})}),e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"flex items-center justify-between",children:D.map((s,x)=>e.jsxs("div",{className:"flex items-center flex-1",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`w-9 h-9 sm:w-10 sm:h-10 rounded-full flex items-center justify-center text-sm font-semibold transition-all ${a>s.number?"bg-emerald-500 text-white":a===s.number?"bg-violet-500 text-white":"bg-zinc-800 text-zinc-400"}`,children:a>s.number?e.jsx(z,{className:"w-4 h-4 sm:w-5 sm:h-5"}):s.number}),e.jsx("div",{className:"mt-2 text-center hidden sm:block",children:e.jsx("p",{className:`text-xs font-medium ${a>=s.number?"text-white":"text-zinc-500"}`,children:s.title})})]}),x<D.length-1&&e.jsx("div",{className:`flex-1 h-0.5 mx-1 sm:mx-2 ${a>s.number?"bg-emerald-500":"bg-zinc-800"}`})]},s.number))})}),e.jsxs("div",{className:"bg-zinc-900 rounded-2xl border border-zinc-800 p-6 sm:p-8",children:[a===1&&e.jsx(J,{onComplete:()=>t(2),onSkip:()=>t(2)}),a===2&&r&&e.jsx(Y,{shopId:r,onComplete:()=>t(3),onBack:()=>t(1)}),a===3&&r&&e.jsx(Q,{shopId:r,onComplete:()=>t(4),onBack:()=>t(2)}),a===4&&r&&e.jsx(ee,{shopId:r,onComplete:b,onBack:()=>t(3)}),l&&e.jsxs("div",{className:"absolute inset-0 bg-black/80 rounded-2xl flex flex-col items-center justify-center",children:[e.jsx("div",{className:"w-16 h-16 bg-emerald-500/20 rounded-full flex items-center justify-center mb-4",children:e.jsx(z,{className:"w-8 h-8 text-emerald-500"})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Fertig!"}),e.jsx("p",{className:"text-zinc-400",children:"Weiterleitung zum Dashboard..."})]})]}),e.jsx("div",{className:"text-center mt-6",children:e.jsx("button",{onClick:()=>h("/dashboard"),className:"text-sm text-zinc-500 hover:text-zinc-300 active:text-zinc-200 transition-colors py-3 px-4 touch-manipulation",children:"Setup Ã¼berspringen und zum Dashboard"})})]})]})}export{oe as default};
//# sourceMappingURL=Onboarding-J-KuM1ha.js.map
