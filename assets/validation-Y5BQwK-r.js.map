{"version":3,"file":"validation-Y5BQwK-r.js","sources":["../../src/utils/validation.ts"],"sourcesContent":["import { VALIDATION } from '@lib/constants'\n\n/**\n * Validiert Email-Format\n */\nexport function isValidEmail(email: string): boolean {\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\n  return emailRegex.test(email)\n}\n\n/**\n * Validiert Passwort-Staerke\n */\nexport function validatePassword(password: string): {\n  isValid: boolean\n  errors: string[]\n  strength: number\n  feedback: string\n} {\n  const errors: string[] = []\n  const { minLength, requireUppercase, requireLowercase, requireNumber } =\n    VALIDATION.password\n\n  let strength = 0\n\n  // Check minimum length\n  if (password.length < minLength) {\n    errors.push(`Mindestens ${minLength} Zeichen`)\n  } else {\n    strength += 1\n  }\n\n  // Check for uppercase\n  const hasUppercase = /[A-Z]/.test(password)\n  if (requireUppercase && !hasUppercase) {\n    errors.push('Mindestens ein Grossbuchstabe')\n  } else if (hasUppercase) {\n    strength += 1\n  }\n\n  // Check for lowercase\n  const hasLowercase = /[a-z]/.test(password)\n  if (requireLowercase && !hasLowercase) {\n    errors.push('Mindestens ein Kleinbuchstabe')\n  } else if (hasLowercase) {\n    strength += 1\n  }\n\n  // Check for number\n  const hasNumber = /[0-9]/.test(password)\n  if (requireNumber && !hasNumber) {\n    errors.push('Mindestens eine Zahl')\n  } else if (hasNumber) {\n    strength += 1\n  }\n\n  // Bonus for special characters\n  if (/[!@#$%^&*(),.?\":{}|<>]/.test(password)) {\n    strength = Math.min(4, strength + 1)\n  }\n\n  // Bonus for length > 12\n  if (password.length >= 12) {\n    strength = Math.min(4, strength + 1)\n  }\n\n  // Cap strength at 4\n  strength = Math.min(4, strength)\n\n  // Generate feedback\n  let feedback: string\n  if (password.length === 0) {\n    feedback = ''\n  } else if (strength === 1) {\n    feedback = 'Schwach - verwende mehr verschiedene Zeichen'\n  } else if (strength === 2) {\n    feedback = 'Maessig - fuege Zahlen oder Sonderzeichen hinzu'\n  } else if (strength === 3) {\n    feedback = 'Gut - fast perfekt!'\n  } else {\n    feedback = 'Ausgezeichnet - sehr sicheres Passwort!'\n  }\n\n  return {\n    isValid: errors.length === 0,\n    errors,\n    strength,\n    feedback,\n  }\n}\n\n/**\n * Validiert Shopify Domain\n */\nexport function isValidShopifyDomain(domain: string): boolean {\n  // Akzeptiert: store.myshopify.com oder nur store\n  const domainRegex = /^[a-zA-Z0-9][a-zA-Z0-9-]*[a-zA-Z0-9](\\.myshopify\\.com)?$/\n  return domainRegex.test(domain)\n}\n\n/**\n * Normalisiert Shopify Domain\n */\nexport function normalizeShopifyDomain(domain: string): string {\n  let normalized = domain.toLowerCase().trim()\n\n  // Entferne https:// oder http://\n  normalized = normalized.replace(/^https?:\\/\\//, '')\n\n  // Entferne trailing slash\n  normalized = normalized.replace(/\\/$/, '')\n\n  // Fuege .myshopify.com hinzu wenn nicht vorhanden\n  if (!normalized.endsWith('.myshopify.com')) {\n    normalized = `${normalized}.myshopify.com`\n  }\n\n  return normalized\n}\n\n/**\n * Validiert Niche-Name\n */\nexport function validateNicheName(name: string): {\n  isValid: boolean\n  error?: string\n} {\n  const { minLength, maxLength } = VALIDATION.niche\n\n  if (name.length < minLength) {\n    return { isValid: false, error: `Mindestens ${minLength} Zeichen` }\n  }\n\n  if (name.length > maxLength) {\n    return { isValid: false, error: `Maximal ${maxLength} Zeichen` }\n  }\n\n  return { isValid: true }\n}\n\n/**\n * Validiert Prompt-Text\n */\nexport function validatePrompt(text: string): {\n  isValid: boolean\n  error?: string\n} {\n  const { minLength, maxLength } = VALIDATION.prompt\n\n  if (text.length < minLength) {\n    return { isValid: false, error: `Mindestens ${minLength} Zeichen` }\n  }\n\n  if (text.length > maxLength) {\n    return { isValid: false, error: `Maximal ${maxLength} Zeichen` }\n  }\n\n  return { isValid: true }\n}\n"],"names":["isValidEmail","email","validatePassword","password","errors","minLength","VALIDATION","strength","hasUppercase","hasLowercase","hasNumber","feedback"],"mappings":"wCAKO,SAASA,EAAaC,EAAwB,CAEnD,MADmB,6BACD,KAAKA,CAAK,CAC9B,CAKO,SAASC,EAAiBC,EAK/B,CACA,MAAMC,EAAmB,CAAA,EACnB,CAAE,UAAAC,CAA6D,EACnEC,EAAW,SAEb,IAAIC,EAAW,EAGXJ,EAAS,OAASE,EACpBD,EAAO,KAAK,cAAcC,CAAS,UAAU,EAE7CE,GAAY,EAId,MAAMC,EAAe,QAAQ,KAAKL,CAAQ,EACjBK,EAEdA,IACTD,GAAY,GAFZH,EAAO,KAAK,+BAA+B,EAM7C,MAAMK,EAAe,QAAQ,KAAKN,CAAQ,EACjBM,EAEdA,IACTF,GAAY,GAFZH,EAAO,KAAK,+BAA+B,EAM7C,MAAMM,EAAY,QAAQ,KAAKP,CAAQ,EACjBO,EAEXA,IACTH,GAAY,GAFZH,EAAO,KAAK,sBAAsB,EAMhC,yBAAyB,KAAKD,CAAQ,IACxCI,EAAW,KAAK,IAAI,EAAGA,EAAW,CAAC,GAIjCJ,EAAS,QAAU,KACrBI,EAAW,KAAK,IAAI,EAAGA,EAAW,CAAC,GAIrCA,EAAW,KAAK,IAAI,EAAGA,CAAQ,EAG/B,IAAII,EACJ,OAAIR,EAAS,SAAW,EACtBQ,EAAW,GACFJ,IAAa,EACtBI,EAAW,+CACFJ,IAAa,EACtBI,EAAW,kDACFJ,IAAa,EACtBI,EAAW,sBAEXA,EAAW,0CAGN,CACL,QAASP,EAAO,SAAW,EAC3B,OAAAA,EACA,SAAAG,EACA,SAAAI,CAAA,CAEJ"}