import{s as c}from"./index-DMzOI_GZ.js";const a="http://localhost:5001";async function n(){const{data:t}=await c.auth.getSession(),e=t.session?.access_token;return{"Content-Type":"application/json",...e?{Authorization:`Bearer ${e}`}:{}}}const d={async get(t){const e=await n(),o=await fetch(`${a}${t}`,{method:"GET",headers:e});if(!o.ok){const r=await o.json().catch(()=>({error:"Request failed"}));throw new Error(r.error||"Request failed")}return o.json()},async post(t,e){const r={method:"POST",headers:await n()};e!==void 0&&(r.body=JSON.stringify(e));const s=await fetch(`${a}${t}`,r);if(!s.ok){const i=await s.json().catch(()=>({error:"Request failed"}));throw new Error(i.error||"Request failed")}return s.json()},async put(t,e){const r={method:"PUT",headers:await n()};e!==void 0&&(r.body=JSON.stringify(e));const s=await fetch(`${a}${t}`,r);if(!s.ok){const i=await s.json().catch(()=>({error:"Request failed"}));throw new Error(i.error||"Request failed")}return s.json()},async delete(t){const e=await n(),o=await fetch(`${a}${t}`,{method:"DELETE",headers:e});if(!o.ok){const r=await o.json().catch(()=>({error:"Request failed"}));throw new Error(r.error||"Request failed")}return o.json()}};export{d as a};
//# sourceMappingURL=api-DZjOEeDy.js.map
