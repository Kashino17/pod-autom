import{r as o}from"./vendor-react-4xEIaAEA.js";import{a as u}from"./api-BF1n4RIP.js";import{u as l}from"./index-BNM9HcXn.js";function h(){const{user:t}=l(),[n,s]=o.useState(!1),[i,r]=o.useState(null);return{isLoading:n,error:i,isStripeConfigured:!1,createCheckoutSession:async e=>{if(!t){r("Du musst eingeloggt sein");return}{r("Stripe ist nicht konfiguriert");return}},openCustomerPortal:async()=>{if(!t){r("Du musst eingeloggt sein");return}s(!0),r(null);try{const e=await u.post("/api/stripe/portal",{user_id:t.id,return_url:`${window.location.origin}/settings`});if(e.success&&e.url)window.location.href=e.url;else throw new Error("Portal-Session konnte nicht erstellt werden")}catch(e){const a=e instanceof Error?e.message:"Unbekannter Fehler";r(a),console.error("Portal error:",e)}finally{s(!1)}},clearError:()=>r(null)}}export{h as u};
//# sourceMappingURL=useCheckout-pGyrFP0P.js.map
