{"version":3,"file":"Login-iXIHQYuC.js","sources":["../../src/pages/Login.tsx"],"sourcesContent":["import { useState } from 'react'\nimport { Link, useNavigate, useLocation } from 'react-router-dom'\nimport { useAuth } from '@src/contexts/AuthContext'\nimport { useToastStore } from '@src/lib/store'\nimport { isValidEmail } from '@src/utils/validation'\nimport { Mail, Lock, Eye, EyeOff, Loader2, ArrowLeft } from 'lucide-react'\n\nexport default function Login() {\n  const navigate = useNavigate()\n  const location = useLocation()\n  const { signIn, signInWithOAuth, loading } = useAuth()\n  const addToast = useToastStore((state) => state.addToast)\n\n  // Form state\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [showPassword, setShowPassword] = useState(false)\n  const [isSubmitting, setIsSubmitting] = useState(false)\n\n  // Validation\n  const isEmailValid = email.length === 0 || isValidEmail(email)\n  const canSubmit = isValidEmail(email) && password.length >= 6 && !isSubmitting\n\n  // Get redirect path\n  const from = (location.state as { from?: { pathname: string } })?.from?.pathname || '/dashboard'\n\n  // Handle form submit\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    if (!canSubmit) return\n\n    setIsSubmitting(true)\n    const result = await signIn(email, password)\n\n    if (result.success) {\n      navigate(from, { replace: true })\n    } else {\n      addToast({\n        type: 'error',\n        title: 'Anmeldung fehlgeschlagen',\n        description: result.message || 'Ein Fehler ist aufgetreten',\n      })\n    }\n    setIsSubmitting(false)\n  }\n\n  // Handle OAuth\n  const handleOAuth = async (provider: 'google' | 'apple') => {\n    await signInWithOAuth(provider)\n  }\n\n  return (\n    <div className=\"min-h-screen bg-black flex\">\n      {/* Left side - Form */}\n      <div className=\"flex-1 flex items-center justify-center p-8\">\n        <div className=\"w-full max-w-md\">\n          {/* Back link */}\n          <Link\n            to=\"/\"\n            className=\"inline-flex items-center gap-2 text-zinc-400 hover:text-white transition-colors mb-8\"\n          >\n            <ArrowLeft className=\"w-4 h-4\" />\n            <span className=\"text-sm\">Zurueck zur Startseite</span>\n          </Link>\n\n          {/* Header */}\n          <div className=\"mb-8\">\n            <h1 className=\"text-3xl font-bold text-white mb-2\">\n              Willkommen zurueck\n            </h1>\n            <p className=\"text-zinc-400\">\n              Melde dich an, um dein POD-Business zu verwalten.\n            </p>\n          </div>\n\n          {/* OAuth Buttons */}\n          <div className=\"space-y-3 mb-6\">\n            <button\n              type=\"button\"\n              onClick={() => handleOAuth('google')}\n              disabled={loading}\n              className=\"w-full flex items-center justify-center gap-3 px-4 py-3 rounded-xl bg-zinc-900 border border-zinc-800 text-white hover:bg-zinc-800 transition-colors disabled:opacity-50\"\n            >\n              <svg className=\"w-5 h-5\" viewBox=\"0 0 24 24\">\n                <path\n                  fill=\"currentColor\"\n                  d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"\n                />\n                <path\n                  fill=\"currentColor\"\n                  d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"\n                />\n                <path\n                  fill=\"currentColor\"\n                  d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"\n                />\n                <path\n                  fill=\"currentColor\"\n                  d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"\n                />\n              </svg>\n              Mit Google anmelden\n            </button>\n\n            <button\n              type=\"button\"\n              onClick={() => handleOAuth('apple')}\n              disabled={loading}\n              className=\"w-full flex items-center justify-center gap-3 px-4 py-3 rounded-xl bg-zinc-900 border border-zinc-800 text-white hover:bg-zinc-800 transition-colors disabled:opacity-50\"\n            >\n              <svg className=\"w-5 h-5\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                <path d=\"M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z\" />\n              </svg>\n              Mit Apple anmelden\n            </button>\n          </div>\n\n          {/* Divider */}\n          <div className=\"divider-text mb-6\">oder mit E-Mail</div>\n\n          {/* Email Form */}\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            {/* Email */}\n            <div>\n              <label htmlFor=\"email\" className=\"label\">\n                E-Mail-Adresse\n              </label>\n              <div className=\"input-wrapper\">\n                <Mail className=\"input-icon-left w-5 h-5\" />\n                <input\n                  id=\"email\"\n                  type=\"email\"\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                  className={`input-with-icon-left ${\n                    !isEmailValid ? 'border-red-500 focus:border-red-500' : ''\n                  }`}\n                  placeholder=\"deine@email.de\"\n                  autoComplete=\"email\"\n                  required\n                />\n              </div>\n              {!isEmailValid && (\n                <p className=\"error-text\">Bitte gib eine gueltige E-Mail ein</p>\n              )}\n            </div>\n\n            {/* Password */}\n            <div>\n              <div className=\"flex items-center justify-between mb-2\">\n                <label htmlFor=\"password\" className=\"label mb-0\">\n                  Passwort\n                </label>\n                <Link\n                  to=\"/forgot-password\"\n                  className=\"text-sm text-violet-400 hover:text-violet-300\"\n                >\n                  Vergessen?\n                </Link>\n              </div>\n              <div className=\"input-wrapper\">\n                <Lock className=\"input-icon-left w-5 h-5\" />\n                <input\n                  id=\"password\"\n                  type={showPassword ? 'text' : 'password'}\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  className=\"input-with-icon-left pr-12\"\n                  placeholder=\"Dein Passwort\"\n                  autoComplete=\"current-password\"\n                  required\n                />\n                <button\n                  type=\"button\"\n                  onClick={() => setShowPassword(!showPassword)}\n                  className=\"absolute right-3 top-1/2 -translate-y-1/2 text-zinc-400 hover:text-white\"\n                >\n                  {showPassword ? (\n                    <EyeOff className=\"w-5 h-5\" />\n                  ) : (\n                    <Eye className=\"w-5 h-5\" />\n                  )}\n                </button>\n              </div>\n            </div>\n\n            {/* Submit */}\n            <button\n              type=\"submit\"\n              disabled={!canSubmit}\n              className=\"btn-primary w-full py-3\"\n            >\n              {isSubmitting ? (\n                <Loader2 className=\"w-5 h-5 animate-spin mx-auto\" />\n              ) : (\n                'Anmelden'\n              )}\n            </button>\n          </form>\n\n          {/* Register link */}\n          <p className=\"text-center text-zinc-400 mt-6\">\n            Noch kein Konto?{' '}\n            <Link to=\"/register\" className=\"text-violet-400 hover:text-violet-300\">\n              Jetzt registrieren\n            </Link>\n          </p>\n        </div>\n      </div>\n\n      {/* Right side - Branding (hidden on mobile) */}\n      <div className=\"hidden lg:flex lg:flex-1 items-center justify-center bg-gradient-to-br from-violet-950/50 to-black p-12\">\n        <div className=\"max-w-md text-center\">\n          <div className=\"mb-8\">\n            <span className=\"text-5xl font-bold text-gradient\">POD AutoM</span>\n          </div>\n          <p className=\"text-xl text-zinc-300 mb-8\">\n            Dein vollautomatisiertes Print-on-Demand Business\n          </p>\n          <div className=\"grid grid-cols-3 gap-4 text-center\">\n            <div className=\"p-4 rounded-xl bg-zinc-900/50 border border-zinc-800\">\n              <div className=\"text-2xl font-bold text-white\">100%</div>\n              <div className=\"text-xs text-zinc-500\">Automatisiert</div>\n            </div>\n            <div className=\"p-4 rounded-xl bg-zinc-900/50 border border-zinc-800\">\n              <div className=\"text-2xl font-bold text-white\">24/7</div>\n              <div className=\"text-xs text-zinc-500\">Aktiv</div>\n            </div>\n            <div className=\"p-4 rounded-xl bg-zinc-900/50 border border-zinc-800\">\n              <div className=\"text-2xl font-bold text-white\">KI</div>\n              <div className=\"text-xs text-zinc-500\">Powered</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":["Login","navigate","useNavigate","location","useLocation","signIn","signInWithOAuth","loading","useAuth","addToast","useToastStore","state","email","setEmail","useState","password","setPassword","showPassword","setShowPassword","isSubmitting","setIsSubmitting","isEmailValid","isValidEmail","canSubmit","from","handleSubmit","e","result","handleOAuth","provider","jsxs","jsx","Link","ArrowLeft","Mail","Lock","EyeOff","Eye","Loader2"],"mappings":"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"}