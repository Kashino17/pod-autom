{"version":3,"file":"Settings-SNzd_QHB.js","sources":["../../src/components/settings/ShopSettings.tsx","../../src/components/settings/NicheManager.tsx","../../src/components/settings/PromptEditor.tsx","../../src/components/settings/AccountSettings.tsx","../../src/components/settings/PinterestManager.tsx","../../src/components/ShopifyConnectButton.tsx","../../src/pages/Settings.tsx"],"sourcesContent":["import { useState } from 'react'\nimport { Store, Loader2, CheckCircle, AlertCircle, Trash2, RefreshCw } from 'lucide-react'\nimport { useShops, useShopSettings } from '@src/hooks/useShopify'\n\n// =====================================================\n// SHOP SETTINGS COMPONENT\n// =====================================================\n\ninterface ShopSettingsProps {\n  shopId: string\n}\n\nexport function ShopSettings({ shopId }: ShopSettingsProps) {\n  const { shops, deleteShop, isDeleting, testConnection, isTesting } = useShops()\n  const { settings, updateSettings, isUpdating } = useShopSettings(shopId)\n\n  const [showDeleteConfirm, setShowDeleteConfirm] = useState(false)\n\n  const shop = shops.find((s) => s.id === shopId)\n\n  if (!shop) {\n    return (\n      <div className=\"p-6 text-center text-zinc-400\">\n        Shop nicht gefunden\n      </div>\n    )\n  }\n\n  const handleToggleEnabled = () => {\n    if (!settings) return\n    updateSettings({ enabled: !settings.enabled })\n  }\n\n  const handleUpdateSetting = (key: string, value: unknown) => {\n    updateSettings({ [key]: value })\n  }\n\n  const handleDelete = () => {\n    deleteShop(shopId)\n    setShowDeleteConfirm(false)\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Shop Info Card */}\n      <div className=\"bg-zinc-800/50 rounded-xl p-6 border border-zinc-700\">\n        <div className=\"flex items-start justify-between\">\n          <div className=\"flex items-center gap-4\">\n            <div className=\"w-12 h-12 bg-violet-500/20 rounded-xl flex items-center justify-center\">\n              <Store className=\"w-6 h-6 text-violet-400\" />\n            </div>\n            <div>\n              <h3 className=\"text-lg font-semibold text-white\">\n                {shop.internal_name || shop.shop_domain}\n              </h3>\n              <p className=\"text-sm text-zinc-400\">{shop.shop_domain}</p>\n            </div>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <span\n              className={`px-3 py-1 rounded-full text-xs font-medium ${\n                shop.connection_status === 'connected'\n                  ? 'bg-emerald-500/20 text-emerald-400'\n                  : shop.connection_status === 'error'\n                  ? 'bg-red-500/20 text-red-400'\n                  : 'bg-zinc-700 text-zinc-400'\n              }`}\n            >\n              {shop.connection_status === 'connected' && (\n                <span className=\"flex items-center gap-1\">\n                  <CheckCircle className=\"w-3 h-3\" />\n                  Verbunden\n                </span>\n              )}\n              {shop.connection_status === 'error' && (\n                <span className=\"flex items-center gap-1\">\n                  <AlertCircle className=\"w-3 h-3\" />\n                  Fehler\n                </span>\n              )}\n              {shop.connection_status === 'disconnected' && 'Getrennt'}\n            </span>\n          </div>\n        </div>\n\n        {/* Actions */}\n        <div className=\"flex gap-2 mt-4 pt-4 border-t border-zinc-700\">\n          <button\n            onClick={() => testConnection(shopId)}\n            disabled={isTesting}\n            className=\"btn-secondary text-sm\"\n          >\n            {isTesting ? (\n              <Loader2 className=\"w-4 h-4 animate-spin mr-1\" />\n            ) : (\n              <RefreshCw className=\"w-4 h-4 mr-1\" />\n            )}\n            Verbindung testen\n          </button>\n          <button\n            onClick={() => setShowDeleteConfirm(true)}\n            className=\"btn-secondary text-sm text-red-400 hover:text-red-300 hover:border-red-500/50\"\n          >\n            <Trash2 className=\"w-4 h-4 mr-1\" />\n            Entfernen\n          </button>\n        </div>\n      </div>\n\n      {/* Automation Settings */}\n      {settings && (\n        <div className=\"bg-zinc-800/50 rounded-xl p-6 border border-zinc-700\">\n          <h3 className=\"text-lg font-semibold text-white mb-4\">\n            Automatisierung\n          </h3>\n\n          <div className=\"space-y-4\">\n            {/* Enable/Disable */}\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-white font-medium\">Automatisierung aktiv</p>\n                <p className=\"text-sm text-zinc-400\">\n                  Produkte werden automatisch erstellt und optimiert\n                </p>\n              </div>\n              <button\n                onClick={handleToggleEnabled}\n                disabled={isUpdating}\n                className={`relative w-12 h-6 rounded-full transition-colors ${\n                  settings.enabled ? 'bg-violet-500' : 'bg-zinc-600'\n                }`}\n              >\n                <span\n                  className={`absolute top-1 w-4 h-4 bg-white rounded-full transition-transform ${\n                    settings.enabled ? 'left-7' : 'left-1'\n                  }`}\n                />\n              </button>\n            </div>\n\n            {/* Auto Publish */}\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-white font-medium\">Auto-Publish</p>\n                <p className=\"text-sm text-zinc-400\">\n                  Produkte automatisch als Aktiv ver√∂ffentlichen\n                </p>\n              </div>\n              <button\n                onClick={() => handleUpdateSetting('auto_publish', !settings.auto_publish)}\n                disabled={isUpdating}\n                className={`relative w-12 h-6 rounded-full transition-colors ${\n                  settings.auto_publish ? 'bg-violet-500' : 'bg-zinc-600'\n                }`}\n              >\n                <span\n                  className={`absolute top-1 w-4 h-4 bg-white rounded-full transition-transform ${\n                    settings.auto_publish ? 'left-7' : 'left-1'\n                  }`}\n                />\n              </button>\n            </div>\n\n            {/* Creation Limit */}\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-white font-medium\">Produkte pro Tag</p>\n                <p className=\"text-sm text-zinc-400\">\n                  Maximale Anzahl neuer Produkte pro Tag\n                </p>\n              </div>\n              <select\n                value={settings.creation_limit}\n                onChange={(e) => handleUpdateSetting('creation_limit', parseInt(e.target.value))}\n                className=\"input w-24 text-center\"\n              >\n                <option value={5}>5</option>\n                <option value={10}>10</option>\n                <option value={20}>20</option>\n                <option value={50}>50</option>\n                <option value={100}>100</option>\n              </select>\n            </div>\n\n            {/* Image Quality */}\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-white font-medium\">Bildqualit√§t</p>\n                <p className=\"text-sm text-zinc-400\">\n                  Qualit√§t der generierten Bilder\n                </p>\n              </div>\n              <select\n                value={settings.gpt_image_quality}\n                onChange={(e) => handleUpdateSetting('gpt_image_quality', e.target.value)}\n                className=\"input w-32\"\n              >\n                <option value=\"LOW\">Niedrig</option>\n                <option value=\"MEDIUM\">Mittel</option>\n                <option value=\"HIGH\">Hoch</option>\n              </select>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Pricing Settings */}\n      {settings && (\n        <div className=\"bg-zinc-800/50 rounded-xl p-6 border border-zinc-700\">\n          <h3 className=\"text-lg font-semibold text-white mb-4\">\n            Preise\n          </h3>\n\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label className=\"label\">Standardpreis (‚Ç¨)</label>\n              <input\n                type=\"number\"\n                value={settings.default_price}\n                onChange={(e) => handleUpdateSetting('default_price', parseFloat(e.target.value))}\n                className=\"input\"\n                step=\"0.01\"\n                min=\"0\"\n              />\n            </div>\n            <div>\n              <label className=\"label\">Vergleichspreis (‚Ç¨)</label>\n              <input\n                type=\"number\"\n                value={settings.default_compare_at_price || ''}\n                onChange={(e) =>\n                  handleUpdateSetting(\n                    'default_compare_at_price',\n                    e.target.value ? parseFloat(e.target.value) : null\n                  )\n                }\n                className=\"input\"\n                step=\"0.01\"\n                min=\"0\"\n                placeholder=\"Optional\"\n              />\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Delete Confirmation Modal */}\n      {showDeleteConfirm && (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\">\n          <div\n            className=\"absolute inset-0 bg-black/70 backdrop-blur-sm\"\n            onClick={() => setShowDeleteConfirm(false)}\n          />\n          <div className=\"relative w-full max-w-md rounded-2xl bg-zinc-900 border border-zinc-800 p-6\">\n            <h3 className=\"text-xl font-bold text-white mb-2\">\n              Shop entfernen?\n            </h3>\n            <p className=\"text-zinc-400 mb-6\">\n              Bist du sicher, dass du diesen Shop entfernen m√∂chtest? Alle\n              Einstellungen und Daten werden gel√∂scht.\n            </p>\n            <div className=\"flex gap-3\">\n              <button\n                onClick={() => setShowDeleteConfirm(false)}\n                className=\"btn-secondary flex-1\"\n              >\n                Abbrechen\n              </button>\n              <button\n                onClick={handleDelete}\n                disabled={isDeleting}\n                className=\"flex-1 py-2 px-4 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors\"\n              >\n                {isDeleting ? (\n                  <Loader2 className=\"w-5 h-5 animate-spin mx-auto\" />\n                ) : (\n                  'Ja, entfernen'\n                )}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default ShopSettings\n","import { useState } from 'react'\nimport { Tag, Plus, X, Loader2, Search, Sparkles } from 'lucide-react'\nimport { useNiches } from '@src/hooks/useShopify'\n\n// =====================================================\n// TYPES\n// =====================================================\n\ninterface NicheManagerProps {\n  settingsId: string\n}\n\n// Suggested niches\nconst SUGGESTED_NICHES = [\n  { name: 'Fitness & Sport', icon: 'üí™' },\n  { name: 'Haustiere', icon: 'üêï' },\n  { name: 'Gaming', icon: 'üéÆ' },\n  { name: 'Musik', icon: 'üéµ' },\n  { name: 'Reisen', icon: '‚úàÔ∏è' },\n  { name: 'Kochen', icon: 'üë®‚Äçüç≥' },\n  { name: 'Fotografie', icon: 'üì∑' },\n  { name: 'Garten', icon: 'üå±' },\n  { name: 'Angeln', icon: 'üé£' },\n  { name: 'Motorrad', icon: 'üèçÔ∏è' },\n  { name: 'Yoga', icon: 'üßò' },\n  { name: 'Kaffee', icon: '‚òï' },\n  { name: 'Wandern', icon: 'ü•æ' },\n  { name: 'Camping', icon: '‚õ∫' },\n  { name: 'Surfen', icon: 'üèÑ' },\n  { name: 'Skateboard', icon: 'üõπ' },\n]\n\n// =====================================================\n// NICHE MANAGER COMPONENT\n// =====================================================\n\nexport function NicheManager({ settingsId }: NicheManagerProps) {\n  const {\n    niches,\n    isLoading,\n    createNiche,\n    isCreating,\n    deleteNiche,\n    isDeleting,\n  } = useNiches(settingsId)\n\n  const [newNiche, setNewNiche] = useState('')\n  const [searchTerm, setSearchTerm] = useState('')\n\n  const handleAddNiche = (nicheName: string) => {\n    if (!nicheName.trim()) return\n\n    // Check if already exists\n    const exists = niches.some(\n      (n) => n.niche_name.toLowerCase() === nicheName.toLowerCase()\n    )\n    if (exists) return\n\n    createNiche(nicheName.trim())\n    setNewNiche('')\n  }\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault()\n    handleAddNiche(newNiche)\n  }\n\n  const handleRemoveNiche = (nicheId: string) => {\n    deleteNiche(nicheId)\n  }\n\n  // Filter suggestions based on search and already added niches\n  const filteredSuggestions = SUGGESTED_NICHES.filter((suggestion) => {\n    const matchesSearch = suggestion.name\n      .toLowerCase()\n      .includes(searchTerm.toLowerCase())\n    const alreadyAdded = niches.some(\n      (n) => n.niche_name.toLowerCase() === suggestion.name.toLowerCase()\n    )\n    return matchesSearch && !alreadyAdded\n  })\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center py-12\">\n        <Loader2 className=\"w-6 h-6 text-violet-500 animate-spin\" />\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h3 className=\"text-lg font-semibold text-white flex items-center gap-2\">\n            <Tag className=\"w-5 h-5 text-violet-400\" />\n            Nischen verwalten\n          </h3>\n          <p className=\"text-sm text-zinc-400 mt-1\">\n            {niches.length} Nischen aktiv\n          </p>\n        </div>\n      </div>\n\n      {/* Add new niche */}\n      <form onSubmit={handleSubmit} className=\"flex gap-2\">\n        <input\n          type=\"text\"\n          value={newNiche}\n          onChange={(e) => setNewNiche(e.target.value)}\n          className=\"input flex-1\"\n          placeholder=\"Neue Nische hinzuf√ºgen...\"\n        />\n        <button\n          type=\"submit\"\n          disabled={!newNiche.trim() || isCreating}\n          className=\"btn-primary px-4\"\n        >\n          {isCreating ? (\n            <Loader2 className=\"w-5 h-5 animate-spin\" />\n          ) : (\n            <Plus className=\"w-5 h-5\" />\n          )}\n        </button>\n      </form>\n\n      {/* Current niches */}\n      {niches.length > 0 && (\n        <div className=\"bg-zinc-800/50 rounded-xl p-4 border border-zinc-700\">\n          <p className=\"text-sm text-zinc-400 mb-3\">Aktive Nischen:</p>\n          <div className=\"flex flex-wrap gap-2\">\n            {niches.map((niche) => (\n              <span\n                key={niche.id}\n                className=\"inline-flex items-center gap-2 px-3 py-1.5 bg-violet-500/20 text-violet-300 rounded-lg text-sm group\"\n              >\n                {niche.niche_name}\n                <button\n                  onClick={() => handleRemoveNiche(niche.id)}\n                  disabled={isDeleting}\n                  className=\"opacity-60 hover:opacity-100 transition-opacity\"\n                >\n                  <X className=\"w-3.5 h-3.5\" />\n                </button>\n              </span>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Suggestions */}\n      <div className=\"bg-zinc-800/50 rounded-xl p-4 border border-zinc-700\">\n        <div className=\"flex items-center justify-between mb-3\">\n          <p className=\"text-sm text-zinc-400 flex items-center gap-2\">\n            <Sparkles className=\"w-4 h-4\" />\n            Vorschl√§ge\n          </p>\n          <div className=\"relative\">\n            <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-500\" />\n            <input\n              type=\"text\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              className=\"input pl-9 py-1.5 text-sm w-48\"\n              placeholder=\"Suchen...\"\n            />\n          </div>\n        </div>\n\n        {filteredSuggestions.length > 0 ? (\n          <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2\">\n            {filteredSuggestions.map((suggestion) => (\n              <button\n                key={suggestion.name}\n                onClick={() => handleAddNiche(suggestion.name)}\n                disabled={isCreating}\n                className=\"flex items-center gap-2 p-2 rounded-lg bg-zinc-700/50 hover:bg-zinc-700 text-zinc-300 hover:text-white text-sm transition-colors text-left\"\n              >\n                <span className=\"text-base\">{suggestion.icon}</span>\n                <span className=\"truncate\">{suggestion.name}</span>\n              </button>\n            ))}\n          </div>\n        ) : (\n          <p className=\"text-sm text-zinc-500 text-center py-4\">\n            {searchTerm\n              ? 'Keine Vorschl√§ge gefunden'\n              : 'Alle Vorschl√§ge wurden hinzugef√ºgt'}\n          </p>\n        )}\n      </div>\n\n      {/* Tips */}\n      <div className=\"p-4 rounded-lg bg-violet-500/10 border border-violet-500/20\">\n        <p className=\"text-sm text-violet-300\">\n          <strong>Tipps f√ºr Nischen:</strong>\n        </p>\n        <ul className=\"mt-2 text-xs text-zinc-400 space-y-1\">\n          <li>‚Ä¢ Je spezifischer die Nische, desto besser die Ergebnisse</li>\n          <li>‚Ä¢ Kombiniere breite und spezifische Nischen f√ºr mehr Vielfalt</li>\n          <li>‚Ä¢ Teste neue Nischen mit wenigen Produkten zuerst</li>\n        </ul>\n      </div>\n    </div>\n  )\n}\n\nexport default NicheManager\n","import { useState, useEffect } from 'react'\nimport { Wand2, Save, RotateCcw, Loader2, ChevronDown, ChevronUp, Copy, Check } from 'lucide-react'\nimport { api } from '@src/lib/api'\nimport { useToastStore } from '@src/lib/store'\n\n// =====================================================\n// TYPES\n// =====================================================\n\ninterface PromptEditorProps {\n  settingsId: string\n}\n\ninterface Prompt {\n  id: string\n  settings_id: string\n  prompt_type: 'image' | 'title' | 'description'\n  prompt_text: string\n  is_active: boolean\n}\n\n// Default prompts\nconst DEFAULT_PROMPTS = {\n  image: `Create a modern, eye-catching print-on-demand design with clean lines and vibrant colors.\nThe design should be suitable for printing on t-shirts and hoodies.\nUse a transparent or solid background.\nStyle: Modern, minimalist, trendy.\nNiche: {{niche}}`,\n  title: `Create a catchy, SEO-optimized product title for a {{product_type}} in the {{niche}} niche.\nRequirements:\n- Between 50-70 characters\n- Include main keyword\n- Sound appealing and unique\n- Avoid generic phrases`,\n  description: `Write a compelling product description for a {{product_type}} targeting {{niche}} enthusiasts.\nRequirements:\n- Highlight the unique design\n- Mention print quality and comfort\n- Include relevant keywords\n- Clear call-to-action\n- 100-150 words`,\n}\n\nconst PROMPT_LABELS = {\n  image: { title: 'Bild-Prompt', description: 'F√ºr die KI-Bildgenerierung' },\n  title: { title: 'Titel-Prompt', description: 'F√ºr Produkttitel' },\n  description: { title: 'Beschreibungs-Prompt', description: 'F√ºr Produktbeschreibungen' },\n}\n\n// =====================================================\n// PROMPT EDITOR COMPONENT\n// =====================================================\n\nexport function PromptEditor({ settingsId }: PromptEditorProps) {\n  const addToast = useToastStore((state) => state.addToast)\n\n  const [prompts, setPrompts] = useState<Prompt[]>([])\n  const [isLoading, setIsLoading] = useState(true)\n  const [isSaving, setIsSaving] = useState<string | null>(null)\n  const [expandedPrompt, setExpandedPrompt] = useState<string | null>('image')\n  const [editedPrompts, setEditedPrompts] = useState<Record<string, string>>({})\n  const [copiedId, setCopiedId] = useState<string | null>(null)\n\n  // Fetch prompts\n  useEffect(() => {\n    const fetchPrompts = async () => {\n      try {\n        const response = await api.get<{ success: boolean; prompts: Prompt[] }>(\n          `/api/pod-autom/prompts/${settingsId}`\n        )\n        if (response.success) {\n          setPrompts(response.prompts)\n          // Initialize edited prompts\n          const edited: Record<string, string> = {}\n          response.prompts.forEach((p) => {\n            edited[p.prompt_type] = p.prompt_text\n          })\n          setEditedPrompts(edited)\n        }\n      } catch {\n        // If no prompts exist, use defaults\n        setEditedPrompts({\n          image: DEFAULT_PROMPTS.image,\n          title: DEFAULT_PROMPTS.title,\n          description: DEFAULT_PROMPTS.description,\n        })\n      } finally {\n        setIsLoading(false)\n      }\n    }\n\n    fetchPrompts()\n  }, [settingsId])\n\n  const handleSave = async (promptType: 'image' | 'title' | 'description') => {\n    setIsSaving(promptType)\n    try {\n      await api.put(`/api/pod-autom/prompts/${settingsId}/${promptType}`, {\n        prompt_text: editedPrompts[promptType],\n      })\n      addToast({\n        type: 'success',\n        title: 'Prompt gespeichert',\n        description: `${PROMPT_LABELS[promptType].title} wurde aktualisiert.`,\n      })\n    } catch {\n      addToast({\n        type: 'error',\n        title: 'Fehler',\n        description: 'Prompt konnte nicht gespeichert werden.',\n      })\n    } finally {\n      setIsSaving(null)\n    }\n  }\n\n  const handleReset = (promptType: 'image' | 'title' | 'description') => {\n    setEditedPrompts((prev) => ({\n      ...prev,\n      [promptType]: DEFAULT_PROMPTS[promptType],\n    }))\n  }\n\n  const handleCopy = async (promptType: string) => {\n    await navigator.clipboard.writeText(editedPrompts[promptType] || '')\n    setCopiedId(promptType)\n    setTimeout(() => setCopiedId(null), 2000)\n  }\n\n  const toggleExpand = (promptType: string) => {\n    setExpandedPrompt(expandedPrompt === promptType ? null : promptType)\n  }\n\n  const hasChanges = (promptType: string) => {\n    const original = prompts.find((p) => p.prompt_type === promptType)\n    return original ? original.prompt_text !== editedPrompts[promptType] : true\n  }\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center py-12\">\n        <Loader2 className=\"w-6 h-6 text-violet-500 animate-spin\" />\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div>\n        <h3 className=\"text-lg font-semibold text-white flex items-center gap-2\">\n          <Wand2 className=\"w-5 h-5 text-violet-400\" />\n          KI-Prompts bearbeiten\n        </h3>\n        <p className=\"text-sm text-zinc-400 mt-1\">\n          Passe die Prompts an, um die KI-generierten Inhalte zu steuern.\n        </p>\n      </div>\n\n      {/* Variables info */}\n      <div className=\"p-4 rounded-lg bg-zinc-800/50 border border-zinc-700\">\n        <p className=\"text-sm text-zinc-300 mb-2\">Verf√ºgbare Variablen:</p>\n        <div className=\"flex flex-wrap gap-2\">\n          {['{{niche}}', '{{product_type}}', '{{style}}', '{{color}}'].map((v) => (\n            <code\n              key={v}\n              className=\"px-2 py-1 bg-zinc-700 text-violet-300 rounded text-xs font-mono\"\n            >\n              {v}\n            </code>\n          ))}\n        </div>\n      </div>\n\n      {/* Prompt editors */}\n      <div className=\"space-y-3\">\n        {(['image', 'title', 'description'] as const).map((promptType) => (\n          <div\n            key={promptType}\n            className=\"bg-zinc-800/50 rounded-xl border border-zinc-700 overflow-hidden\"\n          >\n            {/* Header */}\n            <button\n              onClick={() => toggleExpand(promptType)}\n              className=\"w-full flex items-center justify-between p-4 text-left hover:bg-zinc-800/80 transition-colors\"\n            >\n              <div>\n                <p className=\"text-white font-medium flex items-center gap-2\">\n                  {PROMPT_LABELS[promptType].title}\n                  {hasChanges(promptType) && (\n                    <span className=\"w-2 h-2 bg-amber-500 rounded-full\" />\n                  )}\n                </p>\n                <p className=\"text-sm text-zinc-400\">\n                  {PROMPT_LABELS[promptType].description}\n                </p>\n              </div>\n              {expandedPrompt === promptType ? (\n                <ChevronUp className=\"w-5 h-5 text-zinc-400\" />\n              ) : (\n                <ChevronDown className=\"w-5 h-5 text-zinc-400\" />\n              )}\n            </button>\n\n            {/* Editor */}\n            {expandedPrompt === promptType && (\n              <div className=\"px-4 pb-4 space-y-3\">\n                <textarea\n                  value={editedPrompts[promptType] || ''}\n                  onChange={(e) =>\n                    setEditedPrompts((prev) => ({\n                      ...prev,\n                      [promptType]: e.target.value,\n                    }))\n                  }\n                  className=\"input min-h-[150px] resize-none font-mono text-sm\"\n                  placeholder={`${PROMPT_LABELS[promptType].title} eingeben...`}\n                />\n\n                {/* Actions */}\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"flex gap-2\">\n                    <button\n                      onClick={() => handleCopy(promptType)}\n                      className=\"btn-secondary text-sm\"\n                    >\n                      {copiedId === promptType ? (\n                        <Check className=\"w-4 h-4 mr-1 text-emerald-400\" />\n                      ) : (\n                        <Copy className=\"w-4 h-4 mr-1\" />\n                      )}\n                      {copiedId === promptType ? 'Kopiert!' : 'Kopieren'}\n                    </button>\n                    <button\n                      onClick={() => handleReset(promptType)}\n                      className=\"btn-secondary text-sm\"\n                    >\n                      <RotateCcw className=\"w-4 h-4 mr-1\" />\n                      Standard\n                    </button>\n                  </div>\n                  <button\n                    onClick={() => handleSave(promptType)}\n                    disabled={isSaving === promptType || !hasChanges(promptType)}\n                    className=\"btn-primary text-sm\"\n                  >\n                    {isSaving === promptType ? (\n                      <Loader2 className=\"w-4 h-4 animate-spin mr-1\" />\n                    ) : (\n                      <Save className=\"w-4 h-4 mr-1\" />\n                    )}\n                    Speichern\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n        ))}\n      </div>\n\n      {/* Tips */}\n      <div className=\"p-4 rounded-lg bg-violet-500/10 border border-violet-500/20\">\n        <p className=\"text-sm text-violet-300\">\n          <strong>Tipps f√ºr bessere Prompts:</strong>\n        </p>\n        <ul className=\"mt-2 text-xs text-zinc-400 space-y-1\">\n          <li>‚Ä¢ Sei spezifisch bei Stil, Farben und Format</li>\n          <li>‚Ä¢ Nutze Variablen f√ºr dynamische Inhalte</li>\n          <li>‚Ä¢ Teste √Ñnderungen mit wenigen Produkten zuerst</li>\n        </ul>\n      </div>\n    </div>\n  )\n}\n\nexport default PromptEditor\n","import { useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport { User, Mail, Lock, Loader2, LogOut, CreditCard, Crown, ArrowUpRight, AlertCircle } from 'lucide-react'\nimport { useAuth } from '@src/contexts/AuthContext'\nimport { useSubscription } from '@src/contexts/SubscriptionContext'\nimport { useCheckout } from '@src/hooks/useCheckout'\nimport { useToastStore } from '@src/lib/store'\nimport { supabase } from '@src/lib/supabase'\n\n// =====================================================\n// ACCOUNT SETTINGS COMPONENT\n// =====================================================\n\nexport function AccountSettings() {\n  const { user, signOut } = useAuth()\n  const { subscription, loading: subLoading } = useSubscription()\n  const { openCustomerPortal, isLoading: isPortalLoading, error: portalError } = useCheckout()\n  const addToast = useToastStore((state) => state.addToast)\n\n  const [isChangingPassword, setIsChangingPassword] = useState(false)\n  const [newPassword, setNewPassword] = useState('')\n  const [confirmPassword, setConfirmPassword] = useState('')\n  const [isSubmitting, setIsSubmitting] = useState(false)\n\n  const handleChangePassword = async (e: React.FormEvent) => {\n    e.preventDefault()\n\n    if (newPassword !== confirmPassword) {\n      addToast({\n        type: 'error',\n        title: 'Fehler',\n        description: 'Die Passw√∂rter stimmen nicht √ºberein.',\n      })\n      return\n    }\n\n    if (newPassword.length < 8) {\n      addToast({\n        type: 'error',\n        title: 'Fehler',\n        description: 'Das Passwort muss mindestens 8 Zeichen lang sein.',\n      })\n      return\n    }\n\n    setIsSubmitting(true)\n    try {\n      const { error } = await supabase.auth.updateUser({\n        password: newPassword,\n      })\n\n      if (error) throw error\n\n      addToast({\n        type: 'success',\n        title: 'Passwort ge√§ndert',\n        description: 'Dein Passwort wurde erfolgreich aktualisiert.',\n      })\n\n      setIsChangingPassword(false)\n      setNewPassword('')\n      setConfirmPassword('')\n    } catch {\n      addToast({\n        type: 'error',\n        title: 'Fehler',\n        description: 'Passwort konnte nicht ge√§ndert werden.',\n      })\n    } finally {\n      setIsSubmitting(false)\n    }\n  }\n\n  const handleSignOut = async () => {\n    await signOut()\n  }\n\n  const tierLabels = {\n    basis: { name: 'Basis', color: 'text-zinc-400', bg: 'bg-zinc-700' },\n    premium: { name: 'Premium', color: 'text-violet-400', bg: 'bg-violet-500/20' },\n    vip: { name: 'VIP', color: 'text-amber-400', bg: 'bg-amber-500/20' },\n  }\n\n  const currentTier = subscription?.tier || 'basis'\n  const tierInfo = tierLabels[currentTier as keyof typeof tierLabels] || tierLabels.basis\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Profile Section */}\n      <div className=\"bg-zinc-800/50 rounded-xl p-6 border border-zinc-700\">\n        <h3 className=\"text-lg font-semibold text-white mb-4 flex items-center gap-2\">\n          <User className=\"w-5 h-5 text-violet-400\" />\n          Profil\n        </h3>\n\n        <div className=\"space-y-4\">\n          {/* Email */}\n          <div>\n            <label className=\"label\">E-Mail Adresse</label>\n            <div className=\"flex items-center gap-3\">\n              <div className=\"input flex-1 flex items-center gap-2 bg-zinc-800\">\n                <Mail className=\"w-4 h-4 text-zinc-500\" />\n                <span className=\"text-zinc-300\">{user?.email}</span>\n              </div>\n            </div>\n          </div>\n\n          {/* User ID */}\n          <div>\n            <label className=\"label\">Benutzer-ID</label>\n            <div className=\"input bg-zinc-800 text-zinc-500 text-sm font-mono\">\n              {user?.id}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Subscription Section */}\n      <div className=\"bg-zinc-800/50 rounded-xl p-6 border border-zinc-700\">\n        <h3 className=\"text-lg font-semibold text-white mb-4 flex items-center gap-2\">\n          <Crown className=\"w-5 h-5 text-violet-400\" />\n          Abonnement\n        </h3>\n\n        {subLoading ? (\n          <div className=\"flex items-center justify-center py-4\">\n            <Loader2 className=\"w-5 h-5 text-violet-500 animate-spin\" />\n          </div>\n        ) : subscription ? (\n          <div className=\"space-y-4\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-white font-medium\">Aktueller Plan</p>\n                <p className=\"text-sm text-zinc-400\">\n                  N√§chste Abrechnung:{' '}\n                  {subscription.current_period_end\n                    ? new Date(subscription.current_period_end).toLocaleDateString('de-DE')\n                    : 'N/A'}\n                </p>\n              </div>\n              <span className={`px-3 py-1 rounded-full text-sm font-medium ${tierInfo.bg} ${tierInfo.color}`}>\n                {tierInfo.name}\n              </span>\n            </div>\n\n            {/* Portal Error */}\n            {portalError && (\n              <div className=\"p-3 bg-red-500/10 border border-red-500/30 rounded-lg\">\n                <div className=\"flex items-center gap-2\">\n                  <AlertCircle className=\"w-4 h-4 text-red-400\" />\n                  <p className=\"text-red-300 text-sm\">{portalError}</p>\n                </div>\n              </div>\n            )}\n\n            {/* Manage Subscription Button */}\n            {subscription.stripe_customer_id ? (\n              <button\n                onClick={openCustomerPortal}\n                disabled={isPortalLoading}\n                className=\"btn-secondary w-full\"\n              >\n                {isPortalLoading ? (\n                  <Loader2 className=\"w-4 h-4 animate-spin mr-2\" />\n                ) : (\n                  <CreditCard className=\"w-4 h-4 mr-2\" />\n                )}\n                Abonnement verwalten\n              </button>\n            ) : (\n              <p className=\"text-sm text-zinc-500 text-center\">\n                Abonnement-Verwaltung noch nicht verfuegbar\n              </p>\n            )}\n\n            {/* Upgrade Link */}\n            {currentTier !== 'vip' && (\n              <Link\n                to={`/checkout?tier=${currentTier === 'basis' ? 'premium' : 'vip'}`}\n                className=\"btn-primary w-full flex items-center justify-center gap-2\"\n              >\n                <ArrowUpRight className=\"w-4 h-4\" />\n                Auf {currentTier === 'basis' ? 'Premium' : 'VIP'} upgraden\n              </Link>\n            )}\n          </div>\n        ) : (\n          <div className=\"text-center py-4\">\n            <p className=\"text-zinc-400 mb-4\">Kein aktives Abonnement</p>\n            <Link to=\"/checkout\" className=\"btn-primary inline-block\">\n              Plan ausw√§hlen\n            </Link>\n          </div>\n        )}\n      </div>\n\n      {/* Security Section */}\n      <div className=\"bg-zinc-800/50 rounded-xl p-6 border border-zinc-700\">\n        <h3 className=\"text-lg font-semibold text-white mb-4 flex items-center gap-2\">\n          <Lock className=\"w-5 h-5 text-violet-400\" />\n          Sicherheit\n        </h3>\n\n        {!isChangingPassword ? (\n          <button\n            onClick={() => setIsChangingPassword(true)}\n            className=\"btn-secondary\"\n          >\n            Passwort √§ndern\n          </button>\n        ) : (\n          <form onSubmit={handleChangePassword} className=\"space-y-4\">\n            <div>\n              <label htmlFor=\"newPassword\" className=\"label\">\n                Neues Passwort\n              </label>\n              <input\n                id=\"newPassword\"\n                type=\"password\"\n                value={newPassword}\n                onChange={(e) => setNewPassword(e.target.value)}\n                className=\"input\"\n                placeholder=\"Mindestens 8 Zeichen\"\n                required\n              />\n            </div>\n\n            <div>\n              <label htmlFor=\"confirmPassword\" className=\"label\">\n                Passwort best√§tigen\n              </label>\n              <input\n                id=\"confirmPassword\"\n                type=\"password\"\n                value={confirmPassword}\n                onChange={(e) => setConfirmPassword(e.target.value)}\n                className=\"input\"\n                placeholder=\"Passwort wiederholen\"\n                required\n              />\n            </div>\n\n            <div className=\"flex gap-2\">\n              <button\n                type=\"button\"\n                onClick={() => {\n                  setIsChangingPassword(false)\n                  setNewPassword('')\n                  setConfirmPassword('')\n                }}\n                className=\"btn-secondary\"\n              >\n                Abbrechen\n              </button>\n              <button\n                type=\"submit\"\n                disabled={isSubmitting}\n                className=\"btn-primary\"\n              >\n                {isSubmitting ? (\n                  <Loader2 className=\"w-4 h-4 animate-spin mr-1\" />\n                ) : null}\n                Passwort √§ndern\n              </button>\n            </div>\n          </form>\n        )}\n      </div>\n\n      {/* Danger Zone */}\n      <div className=\"bg-zinc-800/50 rounded-xl p-6 border border-red-500/30\">\n        <h3 className=\"text-lg font-semibold text-white mb-4\">\n          Gefahrenzone\n        </h3>\n\n        <button\n          onClick={handleSignOut}\n          className=\"btn-secondary text-red-400 hover:text-red-300 hover:border-red-500/50\"\n        >\n          <LogOut className=\"w-4 h-4 mr-2\" />\n          Abmelden\n        </button>\n      </div>\n    </div>\n  )\n}\n\nexport default AccountSettings\n","import { useState, useEffect } from 'react'\nimport { useSearchParams } from 'react-router-dom'\nimport {\n  ExternalLink,\n  CheckCircle,\n  XCircle,\n  Loader2,\n  RefreshCw,\n  AlertTriangle,\n  Building2,\n  Unlink,\n} from 'lucide-react'\nimport { usePinterest } from '@src/hooks/usePinterest'\nimport { useToast } from '@src/lib/store'\n\n// =====================================================\n// PINTEREST ICON\n// =====================================================\n\nfunction PinterestIcon({ className = 'w-6 h-6' }: { className?: string }) {\n  return (\n    <svg className={className} viewBox=\"0 0 24 24\" fill=\"currentColor\">\n      <path d=\"M12 0C5.373 0 0 5.372 0 12c0 5.084 3.163 9.426 7.627 11.174-.105-.949-.2-2.405.042-3.441.218-.937 1.407-5.965 1.407-5.965s-.359-.719-.359-1.782c0-1.668.967-2.914 2.171-2.914 1.023 0 1.518.769 1.518 1.69 0 1.029-.655 2.568-.994 3.995-.283 1.194.599 2.169 1.777 2.169 2.133 0 3.772-2.249 3.772-5.495 0-2.873-2.064-4.882-5.012-4.882-3.414 0-5.418 2.561-5.418 5.207 0 1.031.397 2.138.893 2.738a.36.36 0 01.083.345l-.333 1.36c-.053.22-.174.267-.402.161-1.499-.698-2.436-2.889-2.436-4.649 0-3.785 2.75-7.262 7.929-7.262 4.163 0 7.398 2.967 7.398 6.931 0 4.136-2.607 7.464-6.227 7.464-1.216 0-2.359-.632-2.75-1.378l-.748 2.853c-.271 1.043-1.002 2.35-1.492 3.146C9.57 23.812 10.763 24 12 24c6.627 0 12-5.373 12-12 0-6.628-5.373-12-12-12z\" />\n    </svg>\n  )\n}\n\n// =====================================================\n// PINTEREST MANAGER COMPONENT\n// =====================================================\n\nexport function PinterestManager() {\n  const [searchParams, setSearchParams] = useSearchParams()\n  const { addToast } = useToast()\n  const [showAdAccounts, setShowAdAccounts] = useState(false)\n\n  const {\n    isConnected,\n    platform,\n    isLoading,\n    adAccounts,\n    adAccountsLoading,\n    connect,\n    disconnect,\n    isDisconnecting,\n    selectAdAccount,\n    isSelectingAdAccount,\n    refetchAdAccounts,\n    refetch,\n  } = usePinterest()\n\n  // Handle OAuth callback messages\n  useEffect(() => {\n    const pinterestStatus = searchParams.get('pinterest')\n    const pinterestError = searchParams.get('pinterest_error')\n\n    if (pinterestStatus === 'connected') {\n      addToast('Pinterest erfolgreich verbunden!', 'success')\n      setSearchParams({})\n      refetch()\n    }\n\n    if (pinterestError) {\n      addToast(`Pinterest Fehler: ${pinterestError}`, 'error')\n      setSearchParams({})\n    }\n  }, [searchParams, setSearchParams, addToast, refetch])\n\n  const handleDisconnect = () => {\n    if (confirm('Moechtest du Pinterest wirklich trennen?')) {\n      disconnect()\n    }\n  }\n\n  const handleSelectAdAccount = (account: { id: string; name: string }) => {\n    selectAdAccount({\n      ad_account_id: account.id,\n      ad_account_name: account.name,\n    })\n    setShowAdAccounts(false)\n    addToast(`Ad Account \"${account.name}\" ausgewaehlt`, 'success')\n  }\n\n  if (isLoading) {\n    return (\n      <div className=\"bg-zinc-900 rounded-xl border border-zinc-800 p-6\">\n        <div className=\"flex items-center gap-3\">\n          <Loader2 className=\"w-6 h-6 text-violet-400 animate-spin\" />\n          <span className=\"text-zinc-400\">Lade Pinterest Status...</span>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"bg-zinc-900 rounded-xl border border-zinc-800 overflow-hidden\">\n      {/* Header */}\n      <div className=\"p-6 border-b border-zinc-800\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-4\">\n            <div className={`w-12 h-12 rounded-xl flex items-center justify-center ${\n              isConnected ? 'bg-red-500/20 text-red-400' : 'bg-zinc-800 text-zinc-400'\n            }`}>\n              <PinterestIcon className=\"w-6 h-6\" />\n            </div>\n            <div>\n              <h3 className=\"text-lg font-medium text-white\">Pinterest</h3>\n              <p className=\"text-sm text-zinc-400\">\n                Veroeffentliche Pins und schalte Ads\n              </p>\n            </div>\n          </div>\n\n          {/* Status Badge */}\n          {isConnected ? (\n            <div className=\"flex items-center gap-2 px-3 py-1.5 bg-emerald-500/10 border border-emerald-500/30 rounded-full\">\n              <CheckCircle className=\"w-4 h-4 text-emerald-400\" />\n              <span className=\"text-sm text-emerald-400\">Verbunden</span>\n            </div>\n          ) : (\n            <div className=\"flex items-center gap-2 px-3 py-1.5 bg-zinc-800 border border-zinc-700 rounded-full\">\n              <XCircle className=\"w-4 h-4 text-zinc-500\" />\n              <span className=\"text-sm text-zinc-400\">Nicht verbunden</span>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Content */}\n      <div className=\"p-6\">\n        {isConnected && platform ? (\n          <div className=\"space-y-6\">\n            {/* Connected Account Info */}\n            <div className=\"p-4 bg-zinc-800/50 rounded-lg\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-sm text-zinc-400 mb-1\">Verbundenes Konto</p>\n                  <p className=\"text-white font-medium\">\n                    @{platform.platform_username || 'Unbekannt'}\n                  </p>\n                </div>\n                <button\n                  onClick={handleDisconnect}\n                  disabled={isDisconnecting}\n                  className=\"flex items-center gap-2 px-3 py-1.5 text-sm text-red-400 hover:bg-red-500/10 rounded-lg transition-colors\"\n                >\n                  {isDisconnecting ? (\n                    <Loader2 className=\"w-4 h-4 animate-spin\" />\n                  ) : (\n                    <Unlink className=\"w-4 h-4\" />\n                  )}\n                  Trennen\n                </button>\n              </div>\n            </div>\n\n            {/* Ad Account Selection */}\n            <div>\n              <div className=\"flex items-center justify-between mb-3\">\n                <h4 className=\"text-sm font-medium text-white\">Ad Account</h4>\n                <button\n                  onClick={() => {\n                    refetchAdAccounts()\n                    setShowAdAccounts(true)\n                  }}\n                  className=\"text-sm text-violet-400 hover:text-violet-300 flex items-center gap-1\"\n                >\n                  <RefreshCw className=\"w-3 h-3\" />\n                  Aktualisieren\n                </button>\n              </div>\n\n              {platform.ad_account_id ? (\n                <div className=\"p-4 bg-zinc-800/50 rounded-lg flex items-center justify-between\">\n                  <div className=\"flex items-center gap-3\">\n                    <Building2 className=\"w-5 h-5 text-zinc-400\" />\n                    <div>\n                      <p className=\"text-white font-medium\">\n                        {platform.ad_account_name || platform.ad_account_id}\n                      </p>\n                      <p className=\"text-xs text-zinc-500\">ID: {platform.ad_account_id}</p>\n                    </div>\n                  </div>\n                  <button\n                    onClick={() => setShowAdAccounts(true)}\n                    className=\"text-sm text-violet-400 hover:text-violet-300\"\n                  >\n                    Aendern\n                  </button>\n                </div>\n              ) : (\n                <div className=\"p-4 bg-amber-500/10 border border-amber-500/30 rounded-lg\">\n                  <div className=\"flex items-start gap-3\">\n                    <AlertTriangle className=\"w-5 h-5 text-amber-400 flex-shrink-0\" />\n                    <div>\n                      <p className=\"text-amber-400 font-medium\">Kein Ad Account ausgewaehlt</p>\n                      <p className=\"text-sm text-amber-400/70 mt-1\">\n                        Waehle einen Ad Account, um Pinterest Ads zu schalten.\n                      </p>\n                      <button\n                        onClick={() => setShowAdAccounts(true)}\n                        className=\"mt-3 btn-primary text-sm py-1.5\"\n                      >\n                        Ad Account waehlen\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n\n            {/* Ad Account Selection Modal */}\n            {showAdAccounts && (\n              <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\">\n                <div className=\"absolute inset-0 bg-black/70\" onClick={() => setShowAdAccounts(false)} />\n                <div className=\"relative w-full max-w-md bg-zinc-900 border border-zinc-800 rounded-xl shadow-xl\">\n                  <div className=\"p-4 border-b border-zinc-800\">\n                    <h3 className=\"text-lg font-medium text-white\">Ad Account waehlen</h3>\n                  </div>\n                  <div className=\"p-4 max-h-80 overflow-y-auto\">\n                    {adAccountsLoading ? (\n                      <div className=\"flex items-center justify-center py-8\">\n                        <Loader2 className=\"w-6 h-6 text-violet-400 animate-spin\" />\n                      </div>\n                    ) : adAccounts.length > 0 ? (\n                      <div className=\"space-y-2\">\n                        {adAccounts.map((account) => (\n                          <button\n                            key={account.id}\n                            onClick={() => handleSelectAdAccount(account)}\n                            disabled={isSelectingAdAccount}\n                            className={`w-full p-4 rounded-lg border text-left transition-colors ${\n                              platform.ad_account_id === account.id\n                                ? 'bg-violet-500/10 border-violet-500/50'\n                                : 'bg-zinc-800/50 border-zinc-700 hover:border-zinc-600'\n                            }`}\n                          >\n                            <div className=\"flex items-center justify-between\">\n                              <div>\n                                <p className=\"text-white font-medium\">{account.name}</p>\n                                <p className=\"text-xs text-zinc-500\">\n                                  {account.country} - {account.currency}\n                                </p>\n                              </div>\n                              {platform.ad_account_id === account.id && (\n                                <CheckCircle className=\"w-5 h-5 text-violet-400\" />\n                              )}\n                            </div>\n                          </button>\n                        ))}\n                      </div>\n                    ) : (\n                      <div className=\"text-center py-8\">\n                        <p className=\"text-zinc-400\">Keine Ad Accounts gefunden</p>\n                        <p className=\"text-sm text-zinc-500 mt-1\">\n                          Erstelle einen Ad Account in Pinterest Business\n                        </p>\n                      </div>\n                    )}\n                  </div>\n                  <div className=\"p-4 border-t border-zinc-800\">\n                    <button\n                      onClick={() => setShowAdAccounts(false)}\n                      className=\"w-full btn-secondary\"\n                    >\n                      Abbrechen\n                    </button>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* Features Info */}\n            <div className=\"p-4 bg-zinc-800/30 rounded-lg\">\n              <h4 className=\"text-sm font-medium text-white mb-2\">Was du mit Pinterest machen kannst:</h4>\n              <ul className=\"space-y-2 text-sm text-zinc-400\">\n                <li className=\"flex items-center gap-2\">\n                  <CheckCircle className=\"w-4 h-4 text-emerald-400\" />\n                  Produkte automatisch als Pins veroeffentlichen\n                </li>\n                <li className=\"flex items-center gap-2\">\n                  <CheckCircle className=\"w-4 h-4 text-emerald-400\" />\n                  Shopping Ads fuer deine Produkte schalten\n                </li>\n                <li className=\"flex items-center gap-2\">\n                  <CheckCircle className=\"w-4 h-4 text-emerald-400\" />\n                  Performance Daten analysieren\n                </li>\n              </ul>\n            </div>\n          </div>\n        ) : (\n          <div className=\"text-center py-8\">\n            <PinterestIcon className=\"w-16 h-16 text-zinc-700 mx-auto mb-4\" />\n            <h4 className=\"text-xl font-medium text-white mb-2\">\n              Pinterest verbinden\n            </h4>\n            <p className=\"text-zinc-400 mb-6 max-w-md mx-auto\">\n              Verbinde dein Pinterest Business Konto, um Produkte automatisch als Pins\n              zu veroeffentlichen und Ads zu schalten.\n            </p>\n            <button onClick={connect} className=\"btn-primary\">\n              <ExternalLink className=\"w-4 h-4 mr-2\" />\n              Mit Pinterest verbinden\n            </button>\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default PinterestManager\n","import { useState } from 'react'\nimport { useAuth } from '@src/contexts/AuthContext'\nimport { useShops } from '@src/hooks/useShopify'\nimport { Store, Loader2, ExternalLink, Key } from 'lucide-react'\n\n// =====================================================\n// SHOPIFY CONNECT BUTTON\n// =====================================================\n\ninterface ShopifyConnectButtonProps {\n  onConnected?: () => void\n  className?: string\n}\n\nexport function ShopifyConnectButton({\n  onConnected,\n  className = '',\n}: ShopifyConnectButtonProps) {\n  const { user } = useAuth()\n  const { startOAuthFlow } = useShops()\n\n  const [showModal, setShowModal] = useState(false)\n  const [shopDomain, setShopDomain] = useState('')\n  const [connectionMode, setConnectionMode] = useState<'oauth' | 'manual'>('oauth')\n\n  const handleOAuthConnect = () => {\n    if (!shopDomain.trim() || !user?.id) return\n    startOAuthFlow(shopDomain, user.id)\n  }\n\n  return (\n    <>\n      <button\n        onClick={() => setShowModal(true)}\n        className={`btn-primary flex items-center gap-2 ${className}`}\n      >\n        <Store className=\"w-5 h-5\" />\n        Shop verbinden\n      </button>\n\n      {/* Modal */}\n      {showModal && (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\">\n          {/* Backdrop */}\n          <div\n            className=\"absolute inset-0 bg-black/70 backdrop-blur-sm\"\n            onClick={() => setShowModal(false)}\n          />\n\n          {/* Modal content */}\n          <div className=\"relative w-full max-w-md rounded-2xl bg-zinc-900 border border-zinc-800 p-6 shadow-xl\">\n            {/* Header */}\n            <div className=\"mb-6\">\n              <h2 className=\"text-xl font-bold text-white\">\n                Shopify Store verbinden\n              </h2>\n              <p className=\"text-sm text-zinc-400 mt-1\">\n                Verbinde deinen Shopify Store um loszulegen.\n              </p>\n            </div>\n\n            {/* Connection mode tabs */}\n            <div className=\"flex gap-2 mb-6\">\n              <button\n                onClick={() => setConnectionMode('oauth')}\n                className={`flex-1 py-2 px-4 rounded-lg text-sm font-medium transition-colors ${\n                  connectionMode === 'oauth'\n                    ? 'bg-violet-500 text-white'\n                    : 'bg-zinc-800 text-zinc-400 hover:text-white'\n                }`}\n              >\n                <div className=\"flex items-center justify-center gap-2\">\n                  <ExternalLink className=\"w-4 h-4\" />\n                  OAuth (Empfohlen)\n                </div>\n              </button>\n              <button\n                onClick={() => setConnectionMode('manual')}\n                className={`flex-1 py-2 px-4 rounded-lg text-sm font-medium transition-colors ${\n                  connectionMode === 'manual'\n                    ? 'bg-violet-500 text-white'\n                    : 'bg-zinc-800 text-zinc-400 hover:text-white'\n                }`}\n              >\n                <div className=\"flex items-center justify-center gap-2\">\n                  <Key className=\"w-4 h-4\" />\n                  Access Token\n                </div>\n              </button>\n            </div>\n\n            {/* OAuth Mode */}\n            {connectionMode === 'oauth' && (\n              <div className=\"space-y-4\">\n                <div>\n                  <label htmlFor=\"shopDomain\" className=\"label\">\n                    Shop Domain\n                  </label>\n                  <input\n                    id=\"shopDomain\"\n                    type=\"text\"\n                    value={shopDomain}\n                    onChange={(e) => setShopDomain(e.target.value)}\n                    className=\"input\"\n                    placeholder=\"dein-shop.myshopify.com\"\n                  />\n                  <p className=\"text-xs text-zinc-500 mt-1\">\n                    Gib deine Shopify Domain ein (z.B. dein-shop oder dein-shop.myshopify.com)\n                  </p>\n                </div>\n\n                <div className=\"p-4 rounded-lg bg-violet-500/10 border border-violet-500/20\">\n                  <p className=\"text-sm text-violet-300\">\n                    Du wirst zu Shopify weitergeleitet, um die Verbindung zu autorisieren.\n                    Dabei werden folgende Berechtigungen angefragt:\n                  </p>\n                  <ul className=\"mt-2 text-xs text-zinc-400 space-y-1\">\n                    <li>‚Ä¢ Produkte lesen und erstellen</li>\n                    <li>‚Ä¢ Bestellungen lesen</li>\n                    <li>‚Ä¢ Inventar lesen</li>\n                  </ul>\n                </div>\n\n                <button\n                  onClick={handleOAuthConnect}\n                  disabled={!shopDomain.trim()}\n                  className=\"btn-primary w-full py-3\"\n                >\n                  Mit Shopify verbinden\n                </button>\n              </div>\n            )}\n\n            {/* Manual Mode */}\n            {connectionMode === 'manual' && (\n              <ManualConnectionForm\n                onSuccess={() => {\n                  setShowModal(false)\n                  onConnected?.()\n                }}\n              />\n            )}\n\n            {/* Close button */}\n            <button\n              onClick={() => setShowModal(false)}\n              className=\"absolute top-4 right-4 text-zinc-400 hover:text-white\"\n            >\n              <svg className=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n        </div>\n      )}\n    </>\n  )\n}\n\n// =====================================================\n// MANUAL CONNECTION FORM\n// =====================================================\n\ninterface ManualConnectionFormProps {\n  onSuccess?: () => void\n}\n\nfunction ManualConnectionForm({ onSuccess }: ManualConnectionFormProps) {\n  const { createShop, isCreating } = useShops()\n\n  const [shopDomain, setShopDomain] = useState('')\n  const [accessToken, setAccessToken] = useState('')\n  const [internalName, setInternalName] = useState('')\n\n  const canSubmit = shopDomain.trim() && accessToken.trim() && !isCreating\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault()\n    if (!canSubmit) return\n\n    const shopData: {\n      shop_domain: string\n      access_token: string\n      internal_name?: string\n    } = {\n      shop_domain: shopDomain,\n      access_token: accessToken,\n    }\n\n    if (internalName) {\n      shopData.internal_name = internalName\n    }\n\n    createShop(shopData, {\n      onSuccess: () => {\n        onSuccess?.()\n      },\n    })\n  }\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-4\">\n      <div>\n        <label htmlFor=\"manualShopDomain\" className=\"label\">\n          Shop Domain\n        </label>\n        <input\n          id=\"manualShopDomain\"\n          type=\"text\"\n          value={shopDomain}\n          onChange={(e) => setShopDomain(e.target.value)}\n          className=\"input\"\n          placeholder=\"dein-shop.myshopify.com\"\n          required\n        />\n      </div>\n\n      <div>\n        <label htmlFor=\"accessToken\" className=\"label\">\n          Admin API Access Token\n        </label>\n        <input\n          id=\"accessToken\"\n          type=\"password\"\n          value={accessToken}\n          onChange={(e) => setAccessToken(e.target.value)}\n          className=\"input\"\n          placeholder=\"shpat_...\"\n          required\n        />\n        <p className=\"text-xs text-zinc-500 mt-1\">\n          Erstelle einen Custom App Token in deinem Shopify Admin unter\n          Settings &gt; Apps and sales channels &gt; Develop apps\n        </p>\n      </div>\n\n      <div>\n        <label htmlFor=\"internalName\" className=\"label\">\n          Interner Name (optional)\n        </label>\n        <input\n          id=\"internalName\"\n          type=\"text\"\n          value={internalName}\n          onChange={(e) => setInternalName(e.target.value)}\n          className=\"input\"\n          placeholder=\"Mein Shop\"\n        />\n      </div>\n\n      <button\n        type=\"submit\"\n        disabled={!canSubmit}\n        className=\"btn-primary w-full py-3\"\n      >\n        {isCreating ? (\n          <Loader2 className=\"w-5 h-5 animate-spin mx-auto\" />\n        ) : (\n          'Shop verbinden'\n        )}\n      </button>\n    </form>\n  )\n}\n\n// =====================================================\n// EXPORTS\n// =====================================================\n\nexport default ShopifyConnectButton\n","import { useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport {\n  Settings as SettingsIcon,\n  Store,\n  Tag,\n  Wand2,\n  User,\n  ChevronLeft,\n  Loader2,\n  Megaphone,\n} from 'lucide-react'\nimport { useShops, useShopSettings } from '@src/hooks/useShopify'\nimport {\n  ShopSettings,\n  NicheManager,\n  PromptEditor,\n  AccountSettings,\n  PinterestManager,\n} from '@src/components/settings'\nimport { ShopifyConnectButton } from '@src/components/ShopifyConnectButton'\n\n// =====================================================\n// TYPES\n// =====================================================\n\ntype SettingsTab = 'shop' | 'niches' | 'prompts' | 'pinterest' | 'account'\n\ninterface TabItem {\n  id: SettingsTab\n  label: string\n  icon: React.ReactNode\n  requiresShop: boolean\n}\n\nconst TABS: TabItem[] = [\n  { id: 'shop', label: 'Shop', icon: <Store className=\"w-5 h-5\" />, requiresShop: true },\n  { id: 'niches', label: 'Nischen', icon: <Tag className=\"w-5 h-5\" />, requiresShop: true },\n  { id: 'prompts', label: 'KI-Prompts', icon: <Wand2 className=\"w-5 h-5\" />, requiresShop: true },\n  { id: 'pinterest', label: 'Pinterest', icon: <Megaphone className=\"w-5 h-5\" />, requiresShop: false },\n  { id: 'account', label: 'Konto', icon: <User className=\"w-5 h-5\" />, requiresShop: false },\n]\n\n// =====================================================\n// SETTINGS PAGE\n// =====================================================\n\nexport default function Settings() {\n  const { shops, isLoading: shopsLoading } = useShops()\n  const [activeTab, setActiveTab] = useState<SettingsTab>('shop')\n  const [selectedShopId, setSelectedShopId] = useState<string | null>(null)\n\n  // Auto-select first shop if none selected\n  const currentShopId = selectedShopId || shops[0]?.id || null\n  const { settings } = useShopSettings(currentShopId)\n\n  const hasShop = shops.length > 0\n\n  // Loading state\n  if (shopsLoading) {\n    return (\n      <div className=\"min-h-screen bg-black flex items-center justify-center\">\n        <Loader2 className=\"w-8 h-8 text-violet-500 animate-spin\" />\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"min-h-screen bg-black\">\n      {/* Background */}\n      <div className=\"absolute inset-0 bg-gradient-to-br from-violet-500/5 via-transparent to-violet-500/5\" />\n\n      <div className=\"relative max-w-6xl mx-auto px-4 py-8\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between mb-8\">\n          <div className=\"flex items-center gap-4\">\n            <Link\n              to=\"/dashboard\"\n              className=\"p-2 rounded-lg bg-zinc-800 hover:bg-zinc-700 text-zinc-400 hover:text-white transition-colors\"\n            >\n              <ChevronLeft className=\"w-5 h-5\" />\n            </Link>\n            <div>\n              <h1 className=\"text-2xl font-bold text-white flex items-center gap-2\">\n                <SettingsIcon className=\"w-6 h-6 text-violet-400\" />\n                Einstellungen\n              </h1>\n              <p className=\"text-zinc-400 text-sm\">\n                Verwalte deinen Shop, Nischen und KI-Einstellungen\n              </p>\n            </div>\n          </div>\n\n          {/* Shop selector (if multiple shops) */}\n          {shops.length > 1 && (\n            <select\n              value={currentShopId || ''}\n              onChange={(e) => setSelectedShopId(e.target.value)}\n              className=\"input w-64\"\n            >\n              {shops.map((shop) => (\n                <option key={shop.id} value={shop.id}>\n                  {shop.internal_name || shop.shop_domain}\n                </option>\n              ))}\n            </select>\n          )}\n        </div>\n\n        <div className=\"flex gap-8\">\n          {/* Sidebar */}\n          <div className=\"w-64 flex-shrink-0\">\n            <nav className=\"space-y-1\">\n              {TABS.map((tab) => {\n                const isDisabled = tab.requiresShop && !hasShop\n                return (\n                  <button\n                    key={tab.id}\n                    onClick={() => !isDisabled && setActiveTab(tab.id)}\n                    disabled={isDisabled}\n                    className={`w-full flex items-center gap-3 px-4 py-3 rounded-lg text-left transition-colors ${\n                      activeTab === tab.id\n                        ? 'bg-violet-500/20 text-violet-300'\n                        : isDisabled\n                        ? 'text-zinc-600 cursor-not-allowed'\n                        : 'text-zinc-400 hover:bg-zinc-800 hover:text-white'\n                    }`}\n                  >\n                    {tab.icon}\n                    <span className=\"font-medium\">{tab.label}</span>\n                  </button>\n                )\n              })}\n            </nav>\n\n            {/* Add shop button */}\n            {hasShop && (\n              <div className=\"mt-6 pt-6 border-t border-zinc-800\">\n                <ShopifyConnectButton className=\"w-full text-sm\" />\n              </div>\n            )}\n          </div>\n\n          {/* Content */}\n          <div className=\"flex-1 min-w-0\">\n            <div className=\"bg-zinc-900 rounded-2xl border border-zinc-800 p-6\">\n              {/* No shop state */}\n              {!hasShop && activeTab !== 'account' ? (\n                <div className=\"text-center py-12\">\n                  <div className=\"w-16 h-16 bg-zinc-800 rounded-full flex items-center justify-center mx-auto mb-4\">\n                    <Store className=\"w-8 h-8 text-zinc-500\" />\n                  </div>\n                  <h3 className=\"text-xl font-semibold text-white mb-2\">\n                    Kein Shop verbunden\n                  </h3>\n                  <p className=\"text-zinc-400 mb-6 max-w-md mx-auto\">\n                    Verbinde zuerst deinen Shopify Store, um die Automatisierung\n                    einzurichten.\n                  </p>\n                  <ShopifyConnectButton />\n                </div>\n              ) : (\n                <>\n                  {/* Shop Settings */}\n                  {activeTab === 'shop' && currentShopId && (\n                    <ShopSettings shopId={currentShopId} />\n                  )}\n\n                  {/* Niche Manager */}\n                  {activeTab === 'niches' && settings?.id && (\n                    <NicheManager settingsId={settings.id} />\n                  )}\n\n                  {/* Prompt Editor */}\n                  {activeTab === 'prompts' && settings?.id && (\n                    <PromptEditor settingsId={settings.id} />\n                  )}\n\n                  {/* Pinterest Settings */}\n                  {activeTab === 'pinterest' && <PinterestManager />}\n\n                  {/* Account Settings */}\n                  {activeTab === 'account' && <AccountSettings />}\n                </>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":["ShopSettings","shopId","shops","deleteShop","isDeleting","testConnection","isTesting","useShops","settings","updateSettings","isUpdating","useShopSettings","showDeleteConfirm","setShowDeleteConfirm","useState","shop","s","jsx","handleToggleEnabled","handleUpdateSetting","key","value","handleDelete","jsxs","Store","CheckCircle","AlertCircle","Loader2","RefreshCw","Trash2","e","SUGGESTED_NICHES","NicheManager","settingsId","niches","isLoading","createNiche","isCreating","deleteNiche","useNiches","newNiche","setNewNiche","searchTerm","setSearchTerm","handleAddNiche","nicheName","n","handleSubmit","handleRemoveNiche","nicheId","filteredSuggestions","suggestion","matchesSearch","alreadyAdded","Tag","Plus","niche","X","Sparkles","Search","DEFAULT_PROMPTS","PROMPT_LABELS","PromptEditor","addToast","useToastStore","state","prompts","setPrompts","setIsLoading","isSaving","setIsSaving","expandedPrompt","setExpandedPrompt","editedPrompts","setEditedPrompts","copiedId","setCopiedId","useEffect","response","api","edited","p","handleSave","promptType","handleReset","prev","handleCopy","toggleExpand","hasChanges","original","Wand2","v","ChevronUp","ChevronDown","Check","Copy","RotateCcw","Save","AccountSettings","user","signOut","useAuth","subscription","subLoading","useSubscription","openCustomerPortal","isPortalLoading","portalError","useCheckout","isChangingPassword","setIsChangingPassword","newPassword","setNewPassword","confirmPassword","setConfirmPassword","isSubmitting","setIsSubmitting","handleChangePassword","error","supabase","handleSignOut","tierLabels","currentTier","tierInfo","User","Mail","Crown","CreditCard","Link","ArrowUpRight","Lock","LogOut","PinterestIcon","className","PinterestManager","searchParams","setSearchParams","useSearchParams","useToast","showAdAccounts","setShowAdAccounts","isConnected","platform","adAccounts","adAccountsLoading","connect","disconnect","isDisconnecting","selectAdAccount","isSelectingAdAccount","refetchAdAccounts","refetch","usePinterest","pinterestStatus","pinterestError","handleDisconnect","handleSelectAdAccount","account","XCircle","Unlink","Building2","AlertTriangle","ExternalLink","ShopifyConnectButton","onConnected","startOAuthFlow","showModal","setShowModal","shopDomain","setShopDomain","connectionMode","setConnectionMode","handleOAuthConnect","Fragment","Key","ManualConnectionForm","onSuccess","createShop","accessToken","setAccessToken","internalName","setInternalName","canSubmit","shopData","TABS","Megaphone","Settings","shopsLoading","activeTab","setActiveTab","selectedShopId","setSelectedShopId","currentShopId","hasShop","ChevronLeft","SettingsIcon","tab","isDisabled"],"mappings":"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"}