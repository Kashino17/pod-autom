{"version":3,"file":"CheckoutSuccess-CsDsw8nf.js","sources":["../../src/pages/CheckoutSuccess.tsx"],"sourcesContent":["import { useEffect, useState } from 'react'\nimport { Link, useNavigate } from 'react-router-dom'\nimport { CheckCircle2, ArrowRight, Loader2, Sparkles } from 'lucide-react'\nimport { useAuth } from '@src/contexts/AuthContext'\nimport { useSubscription } from '@src/contexts/SubscriptionContext'\n\nexport default function CheckoutSuccess() {\n  const navigate = useNavigate()\n  const { user, loading: authLoading } = useAuth()\n  const { subscription, loading: subLoading, refetch } = useSubscription()\n  const [countdown, setCountdown] = useState(5)\n\n  // Refetch subscription data after successful checkout\n  useEffect(() => {\n    if (user && !subLoading) {\n      refetch()\n    }\n  }, [user, subLoading, refetch])\n\n  // Auto-redirect countdown\n  useEffect(() => {\n    if (!authLoading && !user) {\n      navigate('/login')\n      return\n    }\n\n    const timer = setInterval(() => {\n      setCountdown((prev) => {\n        if (prev <= 1) {\n          clearInterval(timer)\n          navigate('/dashboard')\n          return 0\n        }\n        return prev - 1\n      })\n    }, 1000)\n\n    return () => clearInterval(timer)\n  }, [navigate, user, authLoading])\n\n  if (authLoading || subLoading) {\n    return (\n      <div className=\"min-h-screen bg-black flex items-center justify-center\">\n        <Loader2 className=\"w-8 h-8 text-violet-500 animate-spin\" />\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"min-h-screen bg-black flex items-center justify-center px-4\">\n      <div className=\"max-w-md w-full text-center\">\n        {/* Success Icon */}\n        <div className=\"relative mb-8\">\n          <div className=\"w-24 h-24 mx-auto rounded-full bg-gradient-to-br from-emerald-500 to-emerald-600 flex items-center justify-center animate-pulse\">\n            <CheckCircle2 className=\"w-12 h-12 text-white\" />\n          </div>\n          {/* Sparkle effects */}\n          <Sparkles className=\"absolute top-0 right-1/4 w-6 h-6 text-amber-400 animate-bounce\" />\n          <Sparkles className=\"absolute bottom-0 left-1/4 w-4 h-4 text-violet-400 animate-bounce delay-100\" />\n        </div>\n\n        {/* Title */}\n        <h1 className=\"text-3xl md:text-4xl font-bold text-white mb-4\">\n          Zahlung erfolgreich!\n        </h1>\n\n        <p className=\"text-zinc-400 mb-8\">\n          Willkommen bei POD AutoM\n          {subscription?.tier && (\n            <span className=\"text-violet-400 font-medium\">\n              {' '}\n              - {subscription.tier.charAt(0).toUpperCase() + subscription.tier.slice(1)} Plan\n            </span>\n          )}\n          ! Dein Account ist jetzt aktiv.\n        </p>\n\n        {/* What's next */}\n        <div className=\"bg-zinc-900/50 border border-zinc-800 rounded-xl p-6 mb-8 text-left\">\n          <h3 className=\"text-lg font-bold text-white mb-4\">Naechste Schritte:</h3>\n          <ul className=\"space-y-3\">\n            <li className=\"flex items-start gap-3\">\n              <div className=\"w-6 h-6 rounded-full bg-violet-500/20 flex items-center justify-center flex-shrink-0 mt-0.5\">\n                <span className=\"text-violet-400 text-sm font-medium\">1</span>\n              </div>\n              <span className=\"text-zinc-300\">Verbinde deinen Shopify Store</span>\n            </li>\n            <li className=\"flex items-start gap-3\">\n              <div className=\"w-6 h-6 rounded-full bg-violet-500/20 flex items-center justify-center flex-shrink-0 mt-0.5\">\n                <span className=\"text-violet-400 text-sm font-medium\">2</span>\n              </div>\n              <span className=\"text-zinc-300\">Waehle deine Nischen aus</span>\n            </li>\n            <li className=\"flex items-start gap-3\">\n              <div className=\"w-6 h-6 rounded-full bg-violet-500/20 flex items-center justify-center flex-shrink-0 mt-0.5\">\n                <span className=\"text-violet-400 text-sm font-medium\">3</span>\n              </div>\n              <span className=\"text-zinc-300\">Konfiguriere deine Prompts</span>\n            </li>\n            <li className=\"flex items-start gap-3\">\n              <div className=\"w-6 h-6 rounded-full bg-violet-500/20 flex items-center justify-center flex-shrink-0 mt-0.5\">\n                <span className=\"text-violet-400 text-sm font-medium\">4</span>\n              </div>\n              <span className=\"text-zinc-300\">Starte die automatische Produkterstellung!</span>\n            </li>\n          </ul>\n        </div>\n\n        {/* CTA Button */}\n        <Link\n          to=\"/dashboard\"\n          className=\"w-full py-4 bg-violet-500 hover:bg-violet-600 text-white font-medium rounded-xl transition-colors flex items-center justify-center gap-2\"\n        >\n          Zum Dashboard\n          <ArrowRight className=\"w-5 h-5\" />\n        </Link>\n\n        {/* Auto-redirect notice */}\n        <p className=\"mt-4 text-zinc-600 text-sm\">\n          Automatische Weiterleitung in {countdown} Sekunden...\n        </p>\n\n        {/* Support note */}\n        <p className=\"mt-8 text-zinc-600 text-xs\">\n          Fragen? Kontaktiere uns unter{' '}\n          <a href=\"mailto:support@pod-autom.de\" className=\"text-zinc-500 hover:text-white underline\">\n            support@pod-autom.de\n          </a>\n        </p>\n      </div>\n    </div>\n  )\n}\n"],"names":["CheckoutSuccess","navigate","useNavigate","user","authLoading","useAuth","subscription","subLoading","refetch","useSubscription","countdown","setCountdown","useState","useEffect","timer","prev","jsx","Loader2","jsxs","CheckCircle2","Sparkles","Link","ArrowRight"],"mappings":"uSAMA,SAAwBA,GAAkB,CACxC,MAAMC,EAAWC,EAAA,EACX,CAAE,KAAAC,EAAM,QAASC,CAAA,EAAgBC,EAAA,EACjC,CAAE,aAAAC,EAAc,QAASC,EAAY,QAAAC,CAAA,EAAYC,EAAA,EACjD,CAACC,EAAWC,CAAY,EAAIC,EAAAA,SAAS,CAAC,EA8B5C,OA3BAC,EAAAA,UAAU,IAAM,CACVV,GAAQ,CAACI,GACXC,EAAA,CAEJ,EAAG,CAACL,EAAMI,EAAYC,CAAO,CAAC,EAG9BK,EAAAA,UAAU,IAAM,CACd,GAAI,CAACT,GAAe,CAACD,EAAM,CACzBF,EAAS,QAAQ,EACjB,MACF,CAEA,MAAMa,EAAQ,YAAY,IAAM,CAC9BH,EAAcI,GACRA,GAAQ,GACV,cAAcD,CAAK,EACnBb,EAAS,YAAY,EACd,GAEFc,EAAO,CACf,CACH,EAAG,GAAI,EAEP,MAAO,IAAM,cAAcD,CAAK,CAClC,EAAG,CAACb,EAAUE,EAAMC,CAAW,CAAC,EAE5BA,GAAeG,EAEfS,MAAC,OAAI,UAAU,yDACb,eAACC,EAAA,CAAQ,UAAU,uCAAuC,CAAA,CAC5D,QAKD,MAAA,CAAI,UAAU,8DACb,SAAAC,EAAAA,KAAC,MAAA,CAAI,UAAU,8BAEb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,gBACb,SAAA,CAAAF,EAAAA,IAAC,OAAI,UAAU,kIACb,eAACG,EAAA,CAAa,UAAU,uBAAuB,CAAA,CACjD,EAEAH,EAAAA,IAACI,EAAA,CAAS,UAAU,gEAAA,CAAiE,EACrFJ,EAAAA,IAACI,EAAA,CAAS,UAAU,6EAAA,CAA8E,CAAA,EACpG,EAGAJ,EAAAA,IAAC,KAAA,CAAG,UAAU,iDAAiD,SAAA,uBAE/D,EAEAE,EAAAA,KAAC,IAAA,CAAE,UAAU,qBAAqB,SAAA,CAAA,2BAE/BZ,GAAc,MACbY,OAAC,OAAA,CAAK,UAAU,8BACb,SAAA,CAAA,IAAI,KACFZ,EAAa,KAAK,OAAO,CAAC,EAAE,cAAgBA,EAAa,KAAK,MAAM,CAAC,EAAE,OAAA,EAC5E,EACA,iCAAA,EAEJ,EAGAY,EAAAA,KAAC,MAAA,CAAI,UAAU,sEACb,SAAA,CAAAF,EAAAA,IAAC,KAAA,CAAG,UAAU,oCAAoC,SAAA,qBAAkB,EACpEE,EAAAA,KAAC,KAAA,CAAG,UAAU,YACZ,SAAA,CAAAA,EAAAA,KAAC,KAAA,CAAG,UAAU,yBACZ,SAAA,CAAAF,EAAAA,IAAC,MAAA,CAAI,UAAU,8FACb,SAAAA,EAAAA,IAAC,QAAK,UAAU,sCAAsC,aAAC,CAAA,CACzD,EACAA,EAAAA,IAAC,OAAA,CAAK,UAAU,gBAAgB,SAAA,+BAAA,CAA6B,CAAA,EAC/D,EACAE,EAAAA,KAAC,KAAA,CAAG,UAAU,yBACZ,SAAA,CAAAF,EAAAA,IAAC,MAAA,CAAI,UAAU,8FACb,SAAAA,EAAAA,IAAC,QAAK,UAAU,sCAAsC,aAAC,CAAA,CACzD,EACAA,EAAAA,IAAC,OAAA,CAAK,UAAU,gBAAgB,SAAA,0BAAA,CAAwB,CAAA,EAC1D,EACAE,EAAAA,KAAC,KAAA,CAAG,UAAU,yBACZ,SAAA,CAAAF,EAAAA,IAAC,MAAA,CAAI,UAAU,8FACb,SAAAA,EAAAA,IAAC,QAAK,UAAU,sCAAsC,aAAC,CAAA,CACzD,EACAA,EAAAA,IAAC,OAAA,CAAK,UAAU,gBAAgB,SAAA,4BAAA,CAA0B,CAAA,EAC5D,EACAE,EAAAA,KAAC,KAAA,CAAG,UAAU,yBACZ,SAAA,CAAAF,EAAAA,IAAC,MAAA,CAAI,UAAU,8FACb,SAAAA,EAAAA,IAAC,QAAK,UAAU,sCAAsC,aAAC,CAAA,CACzD,EACAA,EAAAA,IAAC,OAAA,CAAK,UAAU,gBAAgB,SAAA,4CAAA,CAA0C,CAAA,CAAA,CAC5E,CAAA,CAAA,CACF,CAAA,EACF,EAGAE,EAAAA,KAACG,EAAA,CACC,GAAG,aACH,UAAU,2IACX,SAAA,CAAA,gBAECL,EAAAA,IAACM,EAAA,CAAW,UAAU,SAAA,CAAU,CAAA,CAAA,CAAA,EAIlCJ,EAAAA,KAAC,IAAA,CAAE,UAAU,6BAA6B,SAAA,CAAA,iCACTR,EAAU,cAAA,EAC3C,EAGAQ,EAAAA,KAAC,IAAA,CAAE,UAAU,6BAA6B,SAAA,CAAA,gCACV,UAC7B,IAAA,CAAE,KAAK,8BAA8B,UAAU,2CAA2C,SAAA,sBAAA,CAE3F,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CACF,CAEJ"}