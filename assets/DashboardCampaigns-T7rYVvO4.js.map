{"version":3,"file":"DashboardCampaigns-T7rYVvO4.js","sources":["../../src/hooks/useCampaigns.ts","../../src/pages/DashboardCampaigns.tsx"],"sourcesContent":["import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\nimport { api } from '@src/lib/api'\n\n// =====================================================\n// TYPES\n// =====================================================\n\nexport interface CampaignTargeting {\n  countries: string[]\n  age_min: number\n  age_max: number\n  genders: string[]\n  interests: string[]\n  keywords: string[]\n}\n\nexport interface CampaignPin {\n  id: string\n  title: string\n  description: string | null\n  link_url: string | null\n  image_url: string | null\n  video_url: string | null\n  creative_type: 'image' | 'video' | 'carousel'\n  status: 'DRAFT' | 'ACTIVE' | 'PAUSED' | 'REJECTED' | 'ARCHIVED'\n  impressions: number\n  clicks: number\n  conversions: number\n  spend: number\n}\n\nexport interface Campaign {\n  id: string\n  name: string\n  description: string | null\n  platform: 'pinterest' | 'meta' | 'google' | 'tiktok'\n  external_campaign_id: string | null\n  status: 'DRAFT' | 'ACTIVE' | 'PAUSED' | 'ARCHIVED' | 'ERROR'\n  sync_status: 'pending' | 'syncing' | 'synced' | 'error'\n  daily_budget: number\n  currency: string\n  targeting: CampaignTargeting\n  campaign_type: 'standard' | 'winner_scaling' | 'collection' | 'product'\n  campaign_objective: string\n  total_spend: number\n  total_impressions: number\n  total_clicks: number\n  total_conversions: number\n  total_revenue: number\n  roas: number | null\n  ctr: number | null\n  cpc: number | null\n  start_date: string | null\n  end_date: string | null\n  last_sync_at: string | null\n  created_at: string\n  updated_at: string\n  // Joined data\n  pod_autom_campaign_pins?: CampaignPin[]\n}\n\nexport interface CampaignStats {\n  total_campaigns: number\n  active_campaigns: number\n  paused_campaigns: number\n  total_spend: number\n  total_conversions: number\n  avg_roas: number\n}\n\nexport interface SyncLogEntry {\n  id: string\n  campaign_id: string | null\n  sync_type: 'create' | 'update' | 'metrics' | 'status' | 'delete'\n  sync_status: 'pending' | 'success' | 'failed'\n  pins_synced: number\n  pins_failed: number\n  error_message: string | null\n  started_at: string\n  completed_at: string | null\n  created_at: string\n}\n\ninterface CampaignsResponse {\n  success: boolean\n  campaigns: Campaign[]\n  stats: CampaignStats\n}\n\ninterface CampaignResponse {\n  success: boolean\n  campaign: Campaign\n}\n\ninterface SyncLogResponse {\n  success: boolean\n  logs: SyncLogEntry[]\n}\n\nexport interface CreateCampaignData {\n  name: string\n  description?: string | undefined\n  platform?: 'pinterest' | 'meta' | 'google' | 'tiktok'\n  status?: 'DRAFT' | 'ACTIVE'\n  daily_budget?: number\n  currency?: string\n  targeting?: Partial<CampaignTargeting>\n  campaign_type?: 'standard' | 'winner_scaling' | 'collection' | 'product'\n  campaign_objective?: string\n  collection_id?: string\n  product_ids?: string[]\n  start_date?: string\n  end_date?: string\n}\n\nexport interface UpdateCampaignData {\n  name?: string\n  description?: string\n  status?: 'DRAFT' | 'ACTIVE' | 'PAUSED' | 'ARCHIVED'\n  daily_budget?: number\n  lifetime_budget?: number\n  targeting?: Partial<CampaignTargeting>\n  campaign_objective?: string\n  collection_id?: string\n  product_ids?: string[]\n  start_date?: string\n  end_date?: string\n}\n\n// =====================================================\n// HOOK\n// =====================================================\n\nexport function useCampaigns(shopId: string | null) {\n  const queryClient = useQueryClient()\n\n  // Get all campaigns for shop\n  const campaignsQuery = useQuery({\n    queryKey: ['campaigns', shopId],\n    queryFn: () => api.get<CampaignsResponse>(`/api/pod-autom/campaigns/${shopId}`),\n    enabled: !!shopId,\n    staleTime: 1000 * 60 * 2, // 2 minutes\n  })\n\n  // Get sync log\n  const syncLogQuery = useQuery({\n    queryKey: ['campaigns', 'sync-log', shopId],\n    queryFn: () => api.get<SyncLogResponse>(`/api/pod-autom/campaigns/${shopId}/sync-log`),\n    enabled: !!shopId,\n    staleTime: 1000 * 60 * 2, // 2 minutes\n  })\n\n  // Create campaign\n  const createCampaignMutation = useMutation({\n    mutationFn: (data: CreateCampaignData) =>\n      api.post<CampaignResponse>(`/api/pod-autom/campaigns/${shopId}`, data),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['campaigns', shopId] })\n    },\n  })\n\n  // Update campaign\n  const updateCampaignMutation = useMutation({\n    mutationFn: ({ campaignId, data }: { campaignId: string; data: UpdateCampaignData }) =>\n      api.put<CampaignResponse>(`/api/pod-autom/campaigns/${shopId}/${campaignId}`, data),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['campaigns', shopId] })\n    },\n  })\n\n  // Update campaign status\n  const updateStatusMutation = useMutation({\n    mutationFn: ({ campaignId, status }: { campaignId: string; status: string }) =>\n      api.post<CampaignResponse>(`/api/pod-autom/campaigns/${shopId}/${campaignId}/status`, {\n        status,\n      }),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['campaigns', shopId] })\n    },\n  })\n\n  // Delete campaign\n  const deleteCampaignMutation = useMutation({\n    mutationFn: (campaignId: string) =>\n      api.delete<{ success: boolean }>(`/api/pod-autom/campaigns/${shopId}/${campaignId}`),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['campaigns', shopId] })\n    },\n  })\n\n  // Computed values\n  const campaigns = campaignsQuery.data?.campaigns ?? []\n  const stats = campaignsQuery.data?.stats ?? {\n    total_campaigns: 0,\n    active_campaigns: 0,\n    paused_campaigns: 0,\n    total_spend: 0,\n    total_conversions: 0,\n    avg_roas: 0,\n  }\n  const syncLog = syncLogQuery.data?.logs ?? []\n\n  // Filter helpers\n  const activeCampaigns = campaigns.filter((c) => c.status === 'ACTIVE')\n  const pausedCampaigns = campaigns.filter((c) => c.status === 'PAUSED')\n  const draftCampaigns = campaigns.filter((c) => c.status === 'DRAFT')\n\n  return {\n    // Data\n    campaigns,\n    activeCampaigns,\n    pausedCampaigns,\n    draftCampaigns,\n    stats,\n    syncLog,\n\n    // Loading states\n    isLoading: campaignsQuery.isLoading,\n    isSyncLogLoading: syncLogQuery.isLoading,\n    error: campaignsQuery.error,\n\n    // Create\n    createCampaign: createCampaignMutation.mutate,\n    createCampaignAsync: createCampaignMutation.mutateAsync,\n    isCreating: createCampaignMutation.isPending,\n\n    // Update\n    updateCampaign: updateCampaignMutation.mutate,\n    isUpdating: updateCampaignMutation.isPending,\n\n    // Status\n    updateStatus: updateStatusMutation.mutate,\n    isUpdatingStatus: updateStatusMutation.isPending,\n\n    // Delete\n    deleteCampaign: deleteCampaignMutation.mutate,\n    isDeleting: deleteCampaignMutation.isPending,\n\n    // Refetch\n    refetch: () => {\n      queryClient.invalidateQueries({ queryKey: ['campaigns', shopId] })\n    },\n    refetchSyncLog: () => {\n      queryClient.invalidateQueries({ queryKey: ['campaigns', 'sync-log', shopId] })\n    },\n  }\n}\n\n// Single campaign hook\nexport function useCampaign(shopId: string | null, campaignId: string | null) {\n  return useQuery({\n    queryKey: ['campaigns', shopId, campaignId],\n    queryFn: () =>\n      api.get<CampaignResponse>(`/api/pod-autom/campaigns/${shopId}/${campaignId}`),\n    enabled: !!shopId && !!campaignId,\n    staleTime: 1000 * 60 * 2,\n  })\n}\n","import { useState } from 'react'\nimport { DashboardLayout } from '@src/components/layout'\nimport { useShops } from '@src/hooks/useShopify'\nimport { useCampaigns, type Campaign, type CreateCampaignData } from '@src/hooks/useCampaigns'\nimport { usePinterest } from '@src/hooks/usePinterest'\nimport { useToast } from '@src/lib/store'\nimport {\n  Loader2,\n  Megaphone,\n  Plus,\n  Play,\n  Pause,\n  Trash2,\n  DollarSign,\n  Eye,\n  MousePointer,\n  ShoppingCart,\n  MoreVertical,\n  X,\n  AlertTriangle,\n  RefreshCw,\n  Filter,\n  BarChart3,\n} from 'lucide-react'\nimport { Link } from 'react-router-dom'\n\n// =====================================================\n// STATS CARD COMPONENT\n// =====================================================\n\ninterface StatsCardProps {\n  title: string\n  value: string | number\n  icon: React.ReactNode\n  trend?: number\n  color?: string\n}\n\nfunction StatsCard({ title, value, icon, color = 'violet' }: StatsCardProps) {\n  const colorClasses: Record<string, string> = {\n    violet: 'bg-violet-500/20 text-violet-400',\n    emerald: 'bg-emerald-500/20 text-emerald-400',\n    amber: 'bg-amber-500/20 text-amber-400',\n    red: 'bg-red-500/20 text-red-400',\n  }\n\n  return (\n    <div className=\"bg-zinc-900 rounded-xl border border-zinc-800 p-4\">\n      <div className=\"flex items-center justify-between mb-2\">\n        <span className=\"text-sm text-zinc-400\">{title}</span>\n        <div className={`w-8 h-8 rounded-lg flex items-center justify-center ${colorClasses[color]}`}>\n          {icon}\n        </div>\n      </div>\n      <span className=\"text-2xl font-bold text-white\">{value}</span>\n    </div>\n  )\n}\n\n// =====================================================\n// CAMPAIGN CARD COMPONENT\n// =====================================================\n\ninterface CampaignCardProps {\n  campaign: Campaign\n  onStatusChange: (id: string, status: string) => void\n  onDelete: (id: string) => void\n  isUpdating: boolean\n}\n\nfunction CampaignCard({ campaign, onStatusChange, onDelete, isUpdating }: CampaignCardProps) {\n  const [showMenu, setShowMenu] = useState(false)\n\n  const statusColors: Record<string, string> = {\n    ACTIVE: 'bg-emerald-500/20 text-emerald-400',\n    PAUSED: 'bg-amber-500/20 text-amber-400',\n    DRAFT: 'bg-zinc-700 text-zinc-400',\n    ARCHIVED: 'bg-zinc-800 text-zinc-500',\n    ERROR: 'bg-red-500/20 text-red-400',\n  }\n\n  const formatCurrency = (value: number) => {\n    return new Intl.NumberFormat('de-DE', {\n      style: 'currency',\n      currency: campaign.currency || 'EUR',\n    }).format(value)\n  }\n\n  const formatNumber = (value: number) => {\n    return new Intl.NumberFormat('de-DE').format(value)\n  }\n\n  return (\n    <div className=\"bg-zinc-900 rounded-xl border border-zinc-800 p-4 hover:border-zinc-700 transition-colors\">\n      {/* Header */}\n      <div className=\"flex items-start justify-between mb-4\">\n        <div className=\"flex-1 min-w-0\">\n          <div className=\"flex items-center gap-2 mb-1\">\n            <h3 className=\"font-medium text-white truncate\">{campaign.name}</h3>\n            <span className={`px-2 py-0.5 rounded text-xs font-medium ${statusColors[campaign.status]}`}>\n              {campaign.status}\n            </span>\n          </div>\n          <p className=\"text-sm text-zinc-500\">\n            {campaign.platform.charAt(0).toUpperCase() + campaign.platform.slice(1)} |{' '}\n            {campaign.campaign_type === 'winner_scaling' ? 'Winner' : 'Standard'}\n          </p>\n        </div>\n\n        {/* Actions Menu */}\n        <div className=\"relative\">\n          <button\n            onClick={() => setShowMenu(!showMenu)}\n            className=\"p-1.5 rounded hover:bg-zinc-800 text-zinc-400 hover:text-white transition-colors\"\n          >\n            <MoreVertical className=\"w-4 h-4\" />\n          </button>\n\n          {showMenu && (\n            <>\n              <div className=\"fixed inset-0 z-10\" onClick={() => setShowMenu(false)} />\n              <div className=\"absolute right-0 mt-1 w-40 bg-zinc-800 border border-zinc-700 rounded-lg shadow-xl z-20 py-1\">\n                {campaign.status === 'ACTIVE' && (\n                  <button\n                    onClick={() => {\n                      onStatusChange(campaign.id, 'PAUSED')\n                      setShowMenu(false)\n                    }}\n                    disabled={isUpdating}\n                    className=\"w-full px-3 py-2 text-left text-sm text-zinc-300 hover:bg-zinc-700 flex items-center gap-2\"\n                  >\n                    <Pause className=\"w-4 h-4\" />\n                    Pausieren\n                  </button>\n                )}\n                {campaign.status === 'PAUSED' && (\n                  <button\n                    onClick={() => {\n                      onStatusChange(campaign.id, 'ACTIVE')\n                      setShowMenu(false)\n                    }}\n                    disabled={isUpdating}\n                    className=\"w-full px-3 py-2 text-left text-sm text-zinc-300 hover:bg-zinc-700 flex items-center gap-2\"\n                  >\n                    <Play className=\"w-4 h-4\" />\n                    Aktivieren\n                  </button>\n                )}\n                {campaign.status !== 'ARCHIVED' && (\n                  <button\n                    onClick={() => {\n                      onStatusChange(campaign.id, 'ARCHIVED')\n                      setShowMenu(false)\n                    }}\n                    disabled={isUpdating}\n                    className=\"w-full px-3 py-2 text-left text-sm text-zinc-300 hover:bg-zinc-700 flex items-center gap-2\"\n                  >\n                    <Trash2 className=\"w-4 h-4\" />\n                    Archivieren\n                  </button>\n                )}\n                <button\n                  onClick={() => {\n                    if (confirm('Kampagne wirklich loeschen?')) {\n                      onDelete(campaign.id)\n                    }\n                    setShowMenu(false)\n                  }}\n                  disabled={isUpdating}\n                  className=\"w-full px-3 py-2 text-left text-sm text-red-400 hover:bg-zinc-700 flex items-center gap-2\"\n                >\n                  <Trash2 className=\"w-4 h-4\" />\n                  Loeschen\n                </button>\n              </div>\n            </>\n          )}\n        </div>\n      </div>\n\n      {/* Metrics Grid */}\n      <div className=\"grid grid-cols-4 gap-3 mb-4\">\n        <div className=\"text-center\">\n          <div className=\"flex items-center justify-center gap-1 text-zinc-500 text-xs mb-1\">\n            <DollarSign className=\"w-3 h-3\" />\n            Ausgaben\n          </div>\n          <p className=\"text-sm font-medium text-white\">{formatCurrency(campaign.total_spend)}</p>\n        </div>\n        <div className=\"text-center\">\n          <div className=\"flex items-center justify-center gap-1 text-zinc-500 text-xs mb-1\">\n            <Eye className=\"w-3 h-3\" />\n            Impressionen\n          </div>\n          <p className=\"text-sm font-medium text-white\">{formatNumber(campaign.total_impressions)}</p>\n        </div>\n        <div className=\"text-center\">\n          <div className=\"flex items-center justify-center gap-1 text-zinc-500 text-xs mb-1\">\n            <MousePointer className=\"w-3 h-3\" />\n            Klicks\n          </div>\n          <p className=\"text-sm font-medium text-white\">{formatNumber(campaign.total_clicks)}</p>\n        </div>\n        <div className=\"text-center\">\n          <div className=\"flex items-center justify-center gap-1 text-zinc-500 text-xs mb-1\">\n            <ShoppingCart className=\"w-3 h-3\" />\n            Conversions\n          </div>\n          <p className=\"text-sm font-medium text-white\">{formatNumber(campaign.total_conversions)}</p>\n        </div>\n      </div>\n\n      {/* Footer */}\n      <div className=\"flex items-center justify-between pt-3 border-t border-zinc-800\">\n        <div className=\"flex items-center gap-4 text-sm\">\n          <span className=\"text-zinc-500\">\n            Budget: <span className=\"text-white\">{formatCurrency(campaign.daily_budget)}/Tag</span>\n          </span>\n          {campaign.roas !== null && campaign.roas > 0 && (\n            <span className=\"text-zinc-500\">\n              ROAS: <span className=\"text-emerald-400\">{campaign.roas.toFixed(2)}x</span>\n            </span>\n          )}\n        </div>\n        <span className=\"text-xs text-zinc-600\">\n          {campaign.last_sync_at\n            ? `Sync: ${new Date(campaign.last_sync_at).toLocaleDateString('de-DE')}`\n            : 'Nie synchronisiert'}\n        </span>\n      </div>\n    </div>\n  )\n}\n\n// =====================================================\n// CREATE CAMPAIGN MODAL\n// =====================================================\n\ninterface CreateCampaignModalProps {\n  isOpen: boolean\n  onClose: () => void\n  onCreate: (data: CreateCampaignData) => void\n  isCreating: boolean\n}\n\nfunction CreateCampaignModal({ isOpen, onClose, onCreate, isCreating }: CreateCampaignModalProps) {\n  const [name, setName] = useState('')\n  const [description, setDescription] = useState('')\n  const [dailyBudget, setDailyBudget] = useState('10.00')\n  const [campaignType, setCampaignType] = useState<'standard' | 'collection'>('standard')\n\n  if (!isOpen) return null\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault()\n    if (!name.trim()) return\n\n    onCreate({\n      name: name.trim(),\n      description: description.trim() || undefined,\n      daily_budget: parseFloat(dailyBudget),\n      campaign_type: campaignType,\n      status: 'DRAFT',\n    })\n  }\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\">\n      <div className=\"absolute inset-0 bg-black/70 backdrop-blur-sm\" onClick={onClose} />\n      <div className=\"relative w-full max-w-lg bg-zinc-900 border border-zinc-800 rounded-2xl shadow-xl\">\n        <div className=\"flex items-center justify-between p-4 border-b border-zinc-800\">\n          <h3 className=\"text-lg font-semibold text-white\">Neue Kampagne erstellen</h3>\n          <button onClick={onClose} className=\"p-1 text-zinc-400 hover:text-white\">\n            <X className=\"w-5 h-5\" />\n          </button>\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"p-4 space-y-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-zinc-300 mb-1\">\n              Kampagnen-Name *\n            </label>\n            <input\n              type=\"text\"\n              value={name}\n              onChange={(e) => setName(e.target.value)}\n              placeholder=\"z.B. Sommer Kollektion 2026\"\n              className=\"input w-full\"\n              required\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-zinc-300 mb-1\">\n              Beschreibung\n            </label>\n            <textarea\n              value={description}\n              onChange={(e) => setDescription(e.target.value)}\n              placeholder=\"Optionale Beschreibung...\"\n              className=\"input w-full h-20 resize-none\"\n            />\n          </div>\n\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-zinc-300 mb-1\">\n                Tagesbudget (EUR)\n              </label>\n              <input\n                type=\"number\"\n                value={dailyBudget}\n                onChange={(e) => setDailyBudget(e.target.value)}\n                min=\"1\"\n                step=\"0.01\"\n                className=\"input w-full\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-zinc-300 mb-1\">\n                Kampagnen-Typ\n              </label>\n              <select\n                value={campaignType}\n                onChange={(e) => setCampaignType(e.target.value as 'standard' | 'collection')}\n                className=\"input w-full\"\n              >\n                <option value=\"standard\">Standard</option>\n                <option value=\"collection\">Kollektion</option>\n                <option value=\"product\">Einzelprodukt</option>\n              </select>\n            </div>\n          </div>\n\n          <div className=\"flex gap-3 pt-4\">\n            <button type=\"button\" onClick={onClose} className=\"btn-secondary flex-1\">\n              Abbrechen\n            </button>\n            <button\n              type=\"submit\"\n              disabled={isCreating || !name.trim()}\n              className=\"btn-primary flex-1\"\n            >\n              {isCreating ? (\n                <Loader2 className=\"w-4 h-4 animate-spin\" />\n              ) : (\n                <>\n                  <Plus className=\"w-4 h-4 mr-2\" />\n                  Erstellen\n                </>\n              )}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  )\n}\n\n// =====================================================\n// EMPTY STATE COMPONENT\n// =====================================================\n\nfunction EmptyState({ onCreateClick }: { onCreateClick: () => void }) {\n  return (\n    <div className=\"bg-zinc-900 rounded-xl border border-zinc-800 p-12 text-center\">\n      <div className=\"w-16 h-16 bg-violet-500/20 rounded-full flex items-center justify-center mx-auto mb-4\">\n        <Megaphone className=\"w-8 h-8 text-violet-400\" />\n      </div>\n      <h3 className=\"text-xl font-semibold text-white mb-2\">\n        Keine Kampagnen vorhanden\n      </h3>\n      <p className=\"text-zinc-400 mb-6 max-w-md mx-auto\">\n        Erstelle deine erste Pinterest Kampagne, um deine Produkte zu bewerben und mehr Verkaeufe zu generieren.\n      </p>\n      <button onClick={onCreateClick} className=\"btn-primary\">\n        <Plus className=\"w-4 h-4 mr-2\" />\n        Erste Kampagne erstellen\n      </button>\n    </div>\n  )\n}\n\n// =====================================================\n// PINTEREST NOT CONNECTED WARNING\n// =====================================================\n\nfunction PinterestNotConnected() {\n  return (\n    <div className=\"bg-amber-500/10 border border-amber-500/30 rounded-xl p-6\">\n      <div className=\"flex items-start gap-4\">\n        <div className=\"w-10 h-10 bg-amber-500/20 rounded-lg flex items-center justify-center flex-shrink-0\">\n          <AlertTriangle className=\"w-5 h-5 text-amber-400\" />\n        </div>\n        <div>\n          <h3 className=\"text-white font-semibold\">Pinterest nicht verbunden</h3>\n          <p className=\"text-sm text-zinc-400 mt-1\">\n            Verbinde dein Pinterest Business Konto in den Einstellungen, um Kampagnen zu erstellen und zu verwalten.\n          </p>\n          <Link to=\"/settings\" className=\"inline-block mt-3 text-sm text-amber-400 hover:text-amber-300\">\n            Zu den Einstellungen â†’\n          </Link>\n        </div>\n      </div>\n    </div>\n  )\n}\n\n// =====================================================\n// DASHBOARD CAMPAIGNS PAGE\n// =====================================================\n\nexport default function DashboardCampaigns() {\n  const { shops, isLoading: shopsLoading } = useShops()\n  const { isConnected: pinterestConnected, isLoading: pinterestLoading } = usePinterest()\n  const { addToast } = useToast()\n  const currentShopId = shops[0]?.id ?? null\n\n  const [showCreateModal, setShowCreateModal] = useState(false)\n  const [statusFilter, setStatusFilter] = useState<string>('all')\n\n  const {\n    campaigns,\n    stats,\n    isLoading,\n    createCampaign,\n    isCreating,\n    updateStatus,\n    isUpdatingStatus,\n    deleteCampaign,\n    refetch,\n  } = useCampaigns(currentShopId)\n\n  const loading = shopsLoading || isLoading || pinterestLoading\n\n  // Filter campaigns\n  const filteredCampaigns = statusFilter === 'all'\n    ? campaigns\n    : campaigns.filter((c) => c.status === statusFilter)\n\n  const handleCreate = (data: CreateCampaignData) => {\n    createCampaign(data, {\n      onSuccess: () => {\n        addToast('Kampagne erstellt', 'success')\n        setShowCreateModal(false)\n      },\n      onError: () => {\n        addToast('Fehler beim Erstellen', 'error')\n      },\n    })\n  }\n\n  const handleStatusChange = (campaignId: string, status: string) => {\n    updateStatus(\n      { campaignId, status },\n      {\n        onSuccess: () => {\n          addToast(`Kampagne ${status === 'ACTIVE' ? 'aktiviert' : status === 'PAUSED' ? 'pausiert' : 'archiviert'}`, 'success')\n        },\n        onError: () => {\n          addToast('Fehler beim Aktualisieren', 'error')\n        },\n      }\n    )\n  }\n\n  const handleDelete = (campaignId: string) => {\n    deleteCampaign(campaignId, {\n      onSuccess: () => {\n        addToast('Kampagne geloescht', 'success')\n      },\n      onError: () => {\n        addToast('Fehler beim Loeschen', 'error')\n      },\n    })\n  }\n\n  if (loading) {\n    return (\n      <DashboardLayout>\n        <div className=\"flex items-center justify-center h-64\">\n          <Loader2 className=\"w-8 h-8 text-violet-500 animate-spin\" />\n        </div>\n      </DashboardLayout>\n    )\n  }\n\n  return (\n    <DashboardLayout>\n      <div className=\"space-y-6\">\n        {/* Page Header */}\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h1 className=\"text-2xl font-bold text-white flex items-center gap-2\">\n              <Megaphone className=\"w-6 h-6 text-violet-400\" />\n              Kampagnen\n            </h1>\n            <p className=\"text-zinc-400 mt-1\">\n              Verwalte deine Pinterest Werbekampagnen\n            </p>\n          </div>\n          <div className=\"flex items-center gap-3\">\n            <button\n              onClick={() => refetch()}\n              className=\"btn-secondary\"\n              title=\"Aktualisieren\"\n            >\n              <RefreshCw className=\"w-4 h-4\" />\n            </button>\n            {pinterestConnected && (\n              <button\n                onClick={() => setShowCreateModal(true)}\n                className=\"btn-primary\"\n              >\n                <Plus className=\"w-4 h-4 mr-2\" />\n                Neue Kampagne\n              </button>\n            )}\n          </div>\n        </div>\n\n        {/* Pinterest Not Connected Warning */}\n        {!pinterestConnected && <PinterestNotConnected />}\n\n        {/* Stats Grid */}\n        {pinterestConnected && (\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n            <StatsCard\n              title=\"Kampagnen\"\n              value={stats.total_campaigns}\n              icon={<Megaphone className=\"w-4 h-4\" />}\n              color=\"violet\"\n            />\n            <StatsCard\n              title=\"Aktiv\"\n              value={stats.active_campaigns}\n              icon={<Play className=\"w-4 h-4\" />}\n              color=\"emerald\"\n            />\n            <StatsCard\n              title=\"Ausgaben\"\n              value={`${stats.total_spend.toFixed(2)} EUR`}\n              icon={<DollarSign className=\"w-4 h-4\" />}\n              color=\"amber\"\n            />\n            <StatsCard\n              title=\"Avg. ROAS\"\n              value={`${stats.avg_roas.toFixed(2)}x`}\n              icon={<BarChart3 className=\"w-4 h-4\" />}\n              color=\"violet\"\n            />\n          </div>\n        )}\n\n        {/* Campaigns List */}\n        {pinterestConnected && (\n          <>\n            {/* Filter Bar */}\n            <div className=\"flex items-center gap-3\">\n              <Filter className=\"w-4 h-4 text-zinc-500\" />\n              <select\n                value={statusFilter}\n                onChange={(e) => setStatusFilter(e.target.value)}\n                className=\"input w-40\"\n              >\n                <option value=\"all\">Alle Status</option>\n                <option value=\"ACTIVE\">Aktiv</option>\n                <option value=\"PAUSED\">Pausiert</option>\n                <option value=\"DRAFT\">Entwurf</option>\n                <option value=\"ARCHIVED\">Archiviert</option>\n              </select>\n              <span className=\"text-sm text-zinc-500\">\n                {filteredCampaigns.length} Kampagne{filteredCampaigns.length !== 1 ? 'n' : ''}\n              </span>\n            </div>\n\n            {/* Campaign Cards */}\n            {campaigns.length === 0 ? (\n              <EmptyState onCreateClick={() => setShowCreateModal(true)} />\n            ) : filteredCampaigns.length === 0 ? (\n              <div className=\"bg-zinc-900 rounded-xl border border-zinc-800 p-8 text-center\">\n                <p className=\"text-zinc-400\">Keine Kampagnen mit diesem Status gefunden.</p>\n              </div>\n            ) : (\n              <div className=\"grid gap-4\">\n                {filteredCampaigns.map((campaign) => (\n                  <CampaignCard\n                    key={campaign.id}\n                    campaign={campaign}\n                    onStatusChange={handleStatusChange}\n                    onDelete={handleDelete}\n                    isUpdating={isUpdatingStatus}\n                  />\n                ))}\n              </div>\n            )}\n          </>\n        )}\n\n        {/* Create Campaign Modal */}\n        <CreateCampaignModal\n          isOpen={showCreateModal}\n          onClose={() => setShowCreateModal(false)}\n          onCreate={handleCreate}\n          isCreating={isCreating}\n        />\n      </div>\n    </DashboardLayout>\n  )\n}\n"],"names":["useCampaigns","shopId","queryClient","useQueryClient","campaignsQuery","useQuery","api","syncLogQuery","createCampaignMutation","useMutation","data","updateCampaignMutation","campaignId","updateStatusMutation","status","deleteCampaignMutation","campaigns","stats","syncLog","activeCampaigns","c","pausedCampaigns","draftCampaigns","StatsCard","title","value","icon","color","colorClasses","jsxs","jsx","CampaignCard","campaign","onStatusChange","onDelete","isUpdating","showMenu","setShowMenu","useState","statusColors","formatCurrency","formatNumber","MoreVertical","Fragment","Pause","Play","Trash2","DollarSign","Eye","MousePointer","ShoppingCart","CreateCampaignModal","isOpen","onClose","onCreate","isCreating","name","setName","description","setDescription","dailyBudget","setDailyBudget","campaignType","setCampaignType","handleSubmit","e","X","Loader2","Plus","EmptyState","onCreateClick","Megaphone","PinterestNotConnected","AlertTriangle","Link","DashboardCampaigns","shops","shopsLoading","useShops","pinterestConnected","pinterestLoading","usePinterest","addToast","useToast","currentShopId","showCreateModal","setShowCreateModal","statusFilter","setStatusFilter","isLoading","createCampaign","updateStatus","isUpdatingStatus","deleteCampaign","refetch","loading","filteredCampaigns","handleCreate","handleStatusChange","handleDelete","DashboardLayout","RefreshCw","BarChart3","Filter"],"mappings":"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"}