import{j as e}from"./vendor-query-CpRdniug.js";import{h as y,f as S,r as j,L as x}from"./vendor-react-4xEIaAEA.js";import{u as C}from"./useCheckout-DuFpMUpr.js";import{u as P,S as p}from"./index-CupJPaFk.js";import{L as b,o as A,j as L,k as a,x as M,ai as f}from"./vendor-ui-BMWb517o.js";import"./api-DNziMqA2.js";import"./vendor-supabase-DejIJ_qE.js";import"./vendor-charts-Cz_1NfFu.js";const N=["basis","premium","vip"];function G(){const[g]=y(),m=S(),{user:i,loading:r}=P(),{createCheckoutSession:v,isLoading:o,error:h}=C(),n=g.get("tier"),[l,w]=j.useState(n&&N.includes(n)?n:"premium");j.useEffect(()=>{!r&&!i&&m("/login?redirect=/checkout")},[i,r,m]);const z=()=>{v(l)},c=p[l];return r?e.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:e.jsx(b,{className:"w-8 h-8 text-violet-500 animate-spin"})}):i?e.jsxs("div",{className:"min-h-screen bg-black",children:[e.jsx("header",{className:"border-b border-zinc-800",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4",children:e.jsxs(x,{to:"/",className:"flex items-center gap-2 text-zinc-400 hover:text-white transition-colors",children:[e.jsx(A,{className:"w-4 h-4"}),e.jsx("span",{children:"Zurueck"})]})})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Waehle deinen Plan"}),e.jsx("p",{className:"text-zinc-400",children:"Starte jetzt mit POD AutoM und automatisiere dein Print-on-Demand Business"})]}),!1,e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:N.map(s=>{const t=p[s],d=l===s,k=s==="premium";return e.jsxs("button",{onClick:()=>w(s),className:`relative p-6 rounded-xl text-left transition-all ${d?"bg-violet-500/20 border-2 border-violet-500":"bg-zinc-900/50 border border-zinc-800 hover:border-zinc-700"}`,children:[k&&e.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:e.jsxs("div",{className:"flex items-center gap-1 px-3 py-0.5 rounded-full bg-violet-500 text-white text-xs font-medium",children:[e.jsx(L,{className:"w-3 h-3 fill-current"}),"Empfohlen"]})}),e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-lg font-bold text-white",children:t.name}),e.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${d?"border-violet-500 bg-violet-500":"border-zinc-600"}`,children:d&&e.jsx(a,{className:"w-3 h-3 text-white"})})]}),e.jsxs("div",{className:"flex items-baseline gap-1 mb-3",children:[e.jsxs("span",{className:"text-2xl font-bold text-white",children:[t.price,"€"]}),e.jsx("span",{className:"text-zinc-500 text-sm",children:"/Monat"})]}),e.jsxs("ul",{className:"space-y-2",children:[t.features.slice(0,3).map(u=>e.jsxs("li",{className:"flex items-center gap-2 text-sm text-zinc-400",children:[e.jsx(a,{className:"w-3.5 h-3.5 text-violet-400"}),u]},u)),t.features.length>3&&e.jsxs("li",{className:"text-sm text-zinc-500",children:["+",t.features.length-3," weitere Features"]})]})]},s)})}),e.jsxs("div",{className:"bg-zinc-900/50 border border-zinc-800 rounded-xl p-6 mb-8",children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Zusammenfassung"}),e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-zinc-800",children:[e.jsx("span",{className:"text-zinc-400",children:"Ausgewaehlter Plan"}),e.jsx("span",{className:"text-white font-medium",children:c.name})]}),e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-zinc-800",children:[e.jsx("span",{className:"text-zinc-400",children:"Abrechnungszeitraum"}),e.jsx("span",{className:"text-white",children:"Monatlich"})]}),e.jsxs("div",{className:"flex items-center justify-between py-3",children:[e.jsx("span",{className:"text-zinc-400",children:"Monatlicher Preis"}),e.jsxs("span",{className:"text-2xl font-bold text-white",children:[c.price,"€"]})]})]}),h&&e.jsx("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500/30 rounded-xl",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(M,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-red-200",children:h})]})}),e.jsx("button",{onClick:z,disabled:o||!1,className:"w-full py-4 bg-violet-500 hover:bg-violet-600 disabled:bg-zinc-700 disabled:cursor-not-allowed text-white font-medium rounded-xl transition-colors flex items-center justify-center gap-2",children:o?e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"w-5 h-5 animate-spin"}),"Weiterleitung zu Stripe..."]}):e.jsxs(e.Fragment,{children:[e.jsx(f,{className:"w-5 h-5"}),"Jetzt ",c.price,"€/Monat abonnieren"]})}),e.jsxs("div",{className:"mt-8 flex flex-wrap items-center justify-center gap-6 text-zinc-500 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(f,{className:"w-4 h-4 text-emerald-500"}),e.jsx("span",{children:"Sichere Zahlung"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(a,{className:"w-4 h-4 text-emerald-500"}),e.jsx("span",{children:"Jederzeit kuendbar"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(a,{className:"w-4 h-4 text-emerald-500"}),e.jsx("span",{children:"14 Tage Geld-zurueck"})]})]}),e.jsxs("p",{className:"mt-8 text-center text-zinc-600 text-xs",children:['Mit dem Klick auf "Abonnieren" stimmst du unseren'," ",e.jsx(x,{to:"/agb",className:"text-zinc-500 hover:text-white underline",children:"AGB"})," ","und"," ",e.jsx(x,{to:"/datenschutz",className:"text-zinc-500 hover:text-white underline",children:"Datenschutzbestimmungen"})," ","zu."]})]})]}):null}export{G as default};
//# sourceMappingURL=Checkout-DfExlnry.js.map
